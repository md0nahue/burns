
=== Pipeline started at: 2025-07-06T18:20:13-07:00 ===
🎬 Burns - Audio to Ken Burns Video Pipeline
============================================================
✅ Found audio file: sad.m4a
📊 File size: 17.95 MB

🚀 Initializing video generator...
🎬 Local Video Service initialized
  📁 Temp directory: /var/folders/h6/gt987qh93hs085p28xhy8z840000gn/T/d20250706-22068-lackb
  🎥 FFmpeg path: ffmpeg

⚙️  Generation options:
  📐 Resolution: 1080p
  🎬 FPS: 24
  🎭 Ken Burns Effect: true
  🔄 Smooth Transitions: true
  ⏱️  Image Duration: 3.0s
  🌊 Transition Duration: 1.0s
  🔍 Zoom Factor: 1.2x
  📹 Pan Speed: 0.5
  💾 Image Caching: true
  💾 Transcription Caching: true
  💾 Analysis Caching: true

============================================================
🎬 STARTING KEN BURNS VIDEO GENERATION
============================================================

📝 Step 1: Processing audio and transcription...
🎵 Transcribing audio content...
🎬 Starting Ken Burns video generation
  📁 Audio file: sad.m4a
  🆔 Project ID: burns_20250706_182013_68950b31
  ⚙️  Options: {:resolution=>"1080p", :fps=>24, :test_mode=>false, :ken_burns_effect=>true, :smooth_transitions=>true, :image_duration=>3.0, :transition_duration=>1.0, :zoom_factor=>1.2, :pan_speed=>0.5, :cache_images=>true, :cache_transcription=>true, :cache_analysis=>true}

📝 Step 1: Processing audio and transcription...
  🎵 Processing audio file...
    🎤 Processing audio with AudioProcessor...
🎤 Processing audio file: sad.m4a
    📁 Using cached transcription from: cache/sad.json
✅ Transcription completed: 137 segments
📊 Total duration: 595.14 seconds
📝 Total words: 0
📤 Uploading audio file: sad.m4a
✅ Audio file uploaded: s3://burns-videos/projects/burns_20250706_182013_68950b31/audio/sad.m4a
  📊 Analyzing content and generating queries...
🎨 Analyzing content for image generation...
🧠 Analyzing content for image generation using Gemini...
    📁 Using cached content analysis from: cache/gemini_analysis_3e70309d6bf300e29b1d9be263979a1c.json
✅ Content analysis completed:
  📊 Total segments: 137
  🖼️  Segments with images: 137
  🔍 Total image queries: 137
  📈 Average confidence: -0.216

🖼️  Step 2: Generating images for segments...
❌ Error in video generation: undefined method `pry' for #<Binding:0x0000000108dda3c0>

    binding.pry
           ^^^^

============================================================
❌ VIDEO GENERATION FAILED
============================================================
Error: undefined method `pry' for #<Binding:0x0000000108dda3c0>

    binding.pry
           ^^^^
Project ID: burns_20250706_182013_68950b31

🔧 Troubleshooting tips:
  • Check your API keys are properly configured
  • Ensure AWS services are accessible
  • Verify the audio file is in a supported format
  • Check network connectivity
  • Try running with test_mode: true for debugging
============================================================
