
=== Pipeline started at: 2025-07-07T10:12:37-07:00 ===
🎬 Burns - Audio to Ken Burns Video Pipeline
============================================================
✅ Found audio file: b2.mp3
📊 File size: 5.31 MB

🚀 Initializing video generator...
🎬 Local Video Service initialized
  📁 Temp directory: /var/folders/h6/gt987qh93hs085p28xhy8z840000gn/T/d20250707-43245-3m6jet
  🎥 FFmpeg path: ffmpeg

⚙️  Generation options:
  📐 Resolution: 1080p
  🎬 FPS: 24
  🎭 Ken Burns Effect: true
  🔄 Smooth Transitions: true
  ⏱️  Image Duration: 3.0s
  🌊 Transition Duration: 1.0s
  🔍 Zoom Factor: 1.2x
  📹 Pan Speed: 0.5
  💾 Image Caching: true
  💾 Transcription Caching: false
  💾 Analysis Caching: false
  🔄 Force Refresh: true

============================================================
🎬 STARTING KEN BURNS VIDEO GENERATION
============================================================

📝 Step 1: Processing audio and transcription...
🎵 Transcribing audio content...
🎬 Starting Ken Burns video generation
  📁 Audio file: b2.mp3
  🆔 Project ID: b2
  ⚙️  Options: {:resolution=>"1080p", :fps=>24, :test_mode=>false, :max_segments=>10, :ken_burns_effect=>true, :smooth_transitions=>true, :image_duration=>3.0, :transition_duration=>1.0, :zoom_factor=>1.2, :pan_speed=>0.5, :cache_images=>true, :cache_transcription=>false, :cache_analysis=>false, :force=>true}

📝 Step 1: Transcribing audio to get text segments...
  🎤 Processing audio with Whisper...
  🎵 Processing audio file...
    🎤 Processing audio with AudioProcessor...
🎤 Processing audio file: b2.mp3
    📁 Using cached transcription from: cache/b2.json
✅ Transcription completed: 135 segments
📊 Total duration: 586.21204 seconds
📝 Total words: 0
📤 Uploading audio file: b2.mp3
✅ Audio file uploaded: s3://burns-videos/projects/b2/audio/b2.mp3
  ✅ Transcription complete: 135 segments

🎨 Step 2: Analyzing text content to generate image queries...
  🧠 Analyzing content with Gemini to generate image queries...
  🎨 Analyzing content for image generation...
🎨 Analyzing content for image generation...
🧠 Analyzing content for image generation using Gemini...
    📁 Using cached content analysis from: cache/gemini_analysis_104153ec0e7b8bc707935f6e133c5293.json
✅ Content analysis completed:
  📊 Total segments: 135
  🖼️  Segments with images: 135
  🔍 Total image queries: 405
  📈 Average confidence: -0.146
  ✅ Analysis complete: 405 image queries generated

🖼️  Step 3: Generating images using the queries...
  🔍 Searching for images using image service providers...
  🖼️  Generating images for segments...
    📝 Processing segment: 0
    📝 Processing segment: 0
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Bernie Sanders speaking at podium", :category=>"famous_person"}, {:query=>"Vermont state capitol building", :category=>"stock_image"}, {:query=>"independent senator portrait", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Bernie Sanders speaking at podium", :category=>"famous_person"}, {:query=>"Vermont state capitol building", :category=>"stock_image"}, {:query=>"independent senator portrait", :category=>"general"}]
      💾 Using cached images for segment 0
      ✅ Generated 1 images
    📝 Processing segment: 1
    📝 Processing segment: 1
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator shaking hands with interviewer", :category=>"stock_image"}, {:query=>"formal interview setting", :category=>"stock_image"}, {:query=>"political discussion graphic", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Senator shaking hands with interviewer", :category=>"stock_image"}, {:query=>"formal interview setting", :category=>"stock_image"}, {:query=>"political discussion graphic", :category=>"general"}]
      💾 Using cached images for segment 1
      ✅ Generated 1 images
    📝 Processing segment: 2
    📝 Processing segment: 2
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"President Trump watching TV", :category=>"famous_person"}, {:query=>"Fox News logo on screen", :category=>"stock_image"}, {:query=>"President Trump pointing finger", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"President Trump watching TV", :category=>"famous_person"}, {:query=>"Fox News logo on screen", :category=>"stock_image"}, {:query=>"President Trump pointing finger", :category=>"famous_person"}]
      💾 Using cached images for segment 2
      ✅ Generated 1 images
    📝 Processing segment: 3
    📝 Processing segment: 3
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Constitution parchment document", :category=>"stock_image"}, {:query=>"1790s historical figures portrait", :category=>"famous_person"}, {:query=>"old quill pen writing document", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"US Constitution parchment document", :category=>"stock_image"}, {:query=>"1790s historical figures portrait", :category=>"famous_person"}, {:query=>"old quill pen writing document", :category=>"stock_image"}]
      💾 Using cached images for segment 3
      ✅ Generated 1 images
    📝 Processing segment: 4
    📝 Processing segment: 4
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Constitution pages close-up", :category=>"stock_image"}, {:query=>"historical document with seal", :category=>"stock_image"}, {:query=>"wise old man thinking", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"US Constitution pages close-up", :category=>"stock_image"}, {:query=>"historical document with seal", :category=>"stock_image"}, {:query=>"wise old man thinking", :category=>"stock_image"}]
      💾 Using cached images for segment 4
      ✅ Generated 1 images
    📝 Processing segment: 5
    📝 Processing segment: 5
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Capitol building exterior", :category=>"stock_image"}, {:query=>"Supreme Court building facade", :category=>"stock_image"}, {:query=>"government branches diagram", :category=>"general"}]
      Debug - final image_queries: [{:query=>"US Capitol building exterior", :category=>"stock_image"}, {:query=>"Supreme Court building facade", :category=>"stock_image"}, {:query=>"government branches diagram", :category=>"general"}]
      💾 Using cached images for segment 5
      ✅ Generated 1 images
    📝 Processing segment: 6
    📝 Processing segment: 6
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"authoritarian leader gesturing", :category=>"stock_image"}, {:query=>"powerful figure silhouetted", :category=>"stock_image"}, {:query=>"President Trump aggressive stance", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"authoritarian leader gesturing", :category=>"stock_image"}, {:query=>"powerful figure silhouetted", :category=>"stock_image"}, {:query=>"President Trump aggressive stance", :category=>"famous_person"}]
      💾 Using cached images for segment 6
      ✅ Generated 1 images
    📝 Processing segment: 7
    📝 Processing segment: 7
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"President Trump speaking to press", :category=>"famous_person"}, {:query=>"microphone with news cameras", :category=>"stock_image"}, {:query=>"media attacking graphic", :category=>"general"}]
      Debug - final image_queries: [{:query=>"President Trump speaking to press", :category=>"famous_person"}, {:query=>"microphone with news cameras", :category=>"stock_image"}, {:query=>"media attacking graphic", :category=>"general"}]
      💾 Using cached images for segment 7
      ✅ Generated 1 images
    📝 Processing segment: 8
    📝 Processing segment: 8
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"CNN logo on TV screen", :category=>"stock_image"}, {:query=>"President Trump pointing at camera", :category=>"famous_person"}, {:query=>"criticism graphic", :category=>"general"}]
      Debug - final image_queries: [{:query=>"CNN logo on TV screen", :category=>"stock_image"}, {:query=>"President Trump pointing at camera", :category=>"famous_person"}, {:query=>"criticism graphic", :category=>"general"}]
      💾 Using cached images for segment 8
      ✅ Generated 1 images
    📝 Processing segment: 9
    📝 Processing segment: 9
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Congress building exterior", :category=>"stock_image"}, {:query=>"President Trump signing bill", :category=>"famous_person"}, {:query=>"government spending chart", :category=>"general"}]
      Debug - final image_queries: [{:query=>"US Congress building exterior", :category=>"stock_image"}, {:query=>"President Trump signing bill", :category=>"famous_person"}, {:query=>"government spending chart", :category=>"general"}]
      💾 Using cached images for segment 9
      ✅ Generated 1 images
    📝 Processing segment: 10
    📝 Processing segment: 10
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"corrupt judge gavel striking down", :category=>"stock_image"}, {:query=>"impeachment proceedings capitol building", :category=>"stock_image"}, {:query=>"Scalia gavel striking down", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"corrupt judge gavel striking down", :category=>"stock_image"}, {:query=>"impeachment proceedings capitol building", :category=>"stock_image"}, {:query=>"Scalia gavel striking down", :category=>"famous_person"}]
      💾 Using cached images for segment 10
      ✅ Generated 1 images
    📝 Processing segment: 11
    📝 Processing segment: 11
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person speaking at podium", :category=>"stock_image"}, {:query=>"protestors holding signs", :category=>"stock_image"}, {:query=>"politician giving speech", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"person speaking at podium", :category=>"stock_image"}, {:query=>"protestors holding signs", :category=>"stock_image"}, {:query=>"politician giving speech", :category=>"famous_person"}]
      💾 Using cached images for segment 11
      ✅ Generated 1 images
    📝 Processing segment: 12
    📝 Processing segment: 12
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Supreme Court building facade", :category=>"stock_image"}, {:query=>"long hallway justice building", :category=>"stock_image"}, {:query=>"Supreme Court justices seated", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"Supreme Court building facade", :category=>"stock_image"}, {:query=>"long hallway justice building", :category=>"stock_image"}, {:query=>"Supreme Court justices seated", :category=>"famous_person"}]
      💾 Using cached images for segment 12
      ✅ Generated 1 images
    📝 Processing segment: 13
    📝 Processing segment: 13
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"shield protecting scales of justice", :category=>"stock_image"}, {:query=>"blindfolded lady justice statue", :category=>"stock_image"}, {:query=>"judge in chambers looking thoughtful", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"shield protecting scales of justice", :category=>"stock_image"}, {:query=>"blindfolded lady justice statue", :category=>"stock_image"}, {:query=>"judge in chambers looking thoughtful", :category=>"stock_image"}]
      💾 Using cached images for segment 13
      ✅ Generated 1 images
    📝 Processing segment: 14
    📝 Processing segment: 14
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"brief pause in speech", :category=>"stock_image"}, {:query=>"close-up of thoughtful expression", :category=>"stock_image"}, {:query=>"speaker looking directly at camera", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"brief pause in speech", :category=>"stock_image"}, {:query=>"close-up of thoughtful expression", :category=>"stock_image"}, {:query=>"speaker looking directly at camera", :category=>"famous_person"}]
      💾 Using cached images for segment 14
      ✅ Generated 1 images
    📝 Processing segment: 15
    📝 Processing segment: 15
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"John Roberts Supreme Court", :category=>"famous_person"}, {:query=>"Supreme Court justices posing", :category=>"famous_person"}, {:query=>"Supreme Court building exterior", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"John Roberts Supreme Court", :category=>"famous_person"}, {:query=>"Supreme Court justices posing", :category=>"famous_person"}, {:query=>"Supreme Court building exterior", :category=>"stock_image"}]
      💾 Using cached images for segment 15
      ✅ Generated 1 images
    📝 Processing segment: 16
    📝 Processing segment: 16
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Citizens United campaign finance graphic", :category=>"stock_image"}, {:query=>"money flowing into election ballot box", :category=>"stock_image"}, {:query=>"billionaire shaking hands with politician", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Citizens United campaign finance graphic", :category=>"stock_image"}, {:query=>"money flowing into election ballot box", :category=>"stock_image"}, {:query=>"billionaire shaking hands with politician", :category=>"stock_image"}]
      💾 Using cached images for segment 16
      ✅ Generated 1 images
    📝 Processing segment: 17
    📝 Processing segment: 17
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"historical Supreme Court decision scroll", :category=>"stock_image"}, {:query=>"crumpled paper representing bad decision", :category=>"stock_image"}, {:query=>"gavel striking down a law book", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"historical Supreme Court decision scroll", :category=>"stock_image"}, {:query=>"crumpled paper representing bad decision", :category=>"stock_image"}, {:query=>"gavel striking down a law book", :category=>"stock_image"}]
      💾 Using cached images for segment 17
      ✅ Generated 1 images
    📝 Processing segment: 18
    📝 Processing segment: 18
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"protestors outside Supreme Court", :category=>"stock_image"}, {:query=>"crowd holding signs against court", :category=>"stock_image"}, {:query=>"John Roberts looking concerned", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"protestors outside Supreme Court", :category=>"stock_image"}, {:query=>"crowd holding signs against court", :category=>"stock_image"}, {:query=>"John Roberts looking concerned", :category=>"famous_person"}]
      💾 Using cached images for segment 18
      ✅ Generated 1 images
    📝 Processing segment: 19
    📝 Processing segment: 19
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Roe v Wade protest signs", :category=>"stock_image"}, {:query=>"woman holding protest sign reproductive rights", :category=>"stock_image"}, {:query=>"Supreme Court building with protest", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Roe v Wade protest signs", :category=>"stock_image"}, {:query=>"woman holding protest sign reproductive rights", :category=>"stock_image"}, {:query=>"Supreme Court building with protest", :category=>"stock_image"}]
      💾 Using cached images for segment 19
      ✅ Generated 1 images
    📝 Processing segment: 20
    📝 Processing segment: 20
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Supreme Court building facade close-up", :category=>"stock_image"}, {:query=>"Gavel striking a sounding block", :category=>"stock_image"}, {:query=>"Judges in black robes looking stern", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Supreme Court building facade close-up", :category=>"stock_image"}, {:query=>"Gavel striking a sounding block", :category=>"stock_image"}, {:query=>"Judges in black robes looking stern", :category=>"stock_image"}]
      💾 Using cached images for segment 20
      ✅ Generated 1 images
    📝 Processing segment: 21
    📝 Processing segment: 21
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Diverse group of Americans looking concerned", :category=>"stock_image"}, {:query=>"Split screen conservative and progressive symbols", :category=>"general"}, {:query=>"American flag waving with a shadow", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Diverse group of Americans looking concerned", :category=>"stock_image"}, {:query=>"Split screen conservative and progressive symbols", :category=>"general"}, {:query=>"American flag waving with a shadow", :category=>"stock_image"}]
      💾 Using cached images for segment 21
      ✅ Generated 1 images
    📝 Processing segment: 22
    📝 Processing segment: 22
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Presidential seal with cracks", :category=>"stock_image"}, {:query=>"Hand reaching for a large power button", :category=>"stock_image"}, {:query=>"Constitution document with a magnifying glass", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Presidential seal with cracks", :category=>"stock_image"}, {:query=>"Hand reaching for a large power button", :category=>"stock_image"}, {:query=>"Constitution document with a magnifying glass", :category=>"stock_image"}]
      💾 Using cached images for segment 22
      ✅ Generated 1 images
    📝 Processing segment: 23
    📝 Processing segment: 23
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"John Roberts portrait", :category=>"famous_person"}, {:query=>"Supreme Court justices in session", :category=>"famous_person"}, {:query=>"Close-up of a judge's face", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"John Roberts portrait", :category=>"famous_person"}, {:query=>"Supreme Court justices in session", :category=>"famous_person"}, {:query=>"Close-up of a judge's face", :category=>"famous_person"}]
      💾 Using cached images for segment 23
      ✅ Generated 1 images
    📝 Processing segment: 24
    📝 Processing segment: 24
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"John Roberts speaking at a podium", :category=>"famous_person"}, {:query=>"Supreme Court building entrance", :category=>"stock_image"}, {:query=>"Close-up of a Supreme Court justice", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"John Roberts speaking at a podium", :category=>"famous_person"}, {:query=>"Supreme Court building entrance", :category=>"stock_image"}, {:query=>"Close-up of a Supreme Court justice", :category=>"famous_person"}]
      💾 Using cached images for segment 24
      ✅ Generated 1 images
    📝 Processing segment: 25
    📝 Processing segment: 25
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"John Roberts speaking at a podium", :category=>"famous_person"}, {:query=>"Supreme Court building exterior", :category=>"stock_image"}, {:query=>"Close-up of a Supreme Court justice", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"John Roberts speaking at a podium", :category=>"famous_person"}, {:query=>"Supreme Court building exterior", :category=>"stock_image"}, {:query=>"Close-up of a Supreme Court justice", :category=>"famous_person"}]
      💾 Using cached images for segment 25
      ✅ Generated 1 images
    📝 Processing segment: 26
    📝 Processing segment: 26
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Donald Trump speaking at a rally", :category=>"famous_person"}, {:query=>"John Roberts looking thoughtful", :category=>"famous_person"}, {:query=>"News anchor reporting on a political event", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Donald Trump speaking at a rally", :category=>"famous_person"}, {:query=>"John Roberts looking thoughtful", :category=>"famous_person"}, {:query=>"News anchor reporting on a political event", :category=>"general"}]
      💾 Using cached images for segment 26
      ✅ Generated 1 images
    📝 Processing segment: 27
    📝 Processing segment: 27
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"John Roberts portrait", :category=>"famous_person"}, {:query=>"Man speaking thoughtfully", :category=>"stock_image"}, {:query=>"Abstract representation of uncertainty", :category=>"general"}]
      Debug - final image_queries: [{:query=>"John Roberts portrait", :category=>"famous_person"}, {:query=>"Man speaking thoughtfully", :category=>"stock_image"}, {:query=>"Abstract representation of uncertainty", :category=>"general"}]
      💾 Using cached images for segment 27
      ✅ Generated 1 images
    📝 Processing segment: 28
    📝 Processing segment: 28
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Constitution document with a magnifying glass", :category=>"stock_image"}, {:query=>"Presidential seal with cracks", :category=>"stock_image"}, {:query=>"Silhouette of a president looking powerful", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"US Constitution document with a magnifying glass", :category=>"stock_image"}, {:query=>"Presidential seal with cracks", :category=>"stock_image"}, {:query=>"Silhouette of a president looking powerful", :category=>"stock_image"}]
      💾 Using cached images for segment 28
      ✅ Generated 1 images
    📝 Processing segment: 29
    📝 Processing segment: 29
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Capitol building dome", :category=>"stock_image"}, {:query=>"Senators in a chamber", :category=>"famous_person"}, {:query=>"Close-up of a voting ballot", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"US Capitol building dome", :category=>"stock_image"}, {:query=>"Senators in a chamber", :category=>"famous_person"}, {:query=>"Close-up of a voting ballot", :category=>"stock_image"}]
      💾 Using cached images for segment 29
      ✅ Generated 1 images
    📝 Processing segment: 30
    📝 Processing segment: 30
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"closed door with no entry", :category=>"stock_image"}, {:query=>"hand firmly closing a book", :category=>"stock_image"}, {:query=>"a wall with no way through", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"closed door with no entry", :category=>"stock_image"}, {:query=>"hand firmly closing a book", :category=>"stock_image"}, {:query=>"a wall with no way through", :category=>"stock_image"}]
      💾 Using cached images for segment 30
      ✅ Generated 1 images
    📝 Processing segment: 31
    📝 Processing segment: 31
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"period punctuation mark close-up", :category=>"stock_image"}, {:query=>"a single dot on white background", :category=>"stock_image"}, {:query=>"stop sign with bold red color", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"period punctuation mark close-up", :category=>"stock_image"}, {:query=>"a single dot on white background", :category=>"stock_image"}, {:query=>"stop sign with bold red color", :category=>"stock_image"}]
      💾 Using cached images for segment 31
      ✅ Generated 1 images
    📝 Processing segment: 32
    📝 Processing segment: 32
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person looking worriedly into distance", :category=>"stock_image"}, {:query=>"a furrowed brow of concern", :category=>"stock_image"}, {:query=>"a person with hands clasped", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person looking worriedly into distance", :category=>"stock_image"}, {:query=>"a furrowed brow of concern", :category=>"stock_image"}, {:query=>"a person with hands clasped", :category=>"stock_image"}]
      💾 Using cached images for segment 32
      ✅ Generated 1 images
    📝 Processing segment: 33
    📝 Processing segment: 33
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"arrow pointing towards authoritarianism symbol", :category=>"stock_image"}, {:query=>"a stylized depiction of authoritarianism", :category=>"stock_image"}, {:query=>"a shadowy figure leading a crowd", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"arrow pointing towards authoritarianism symbol", :category=>"stock_image"}, {:query=>"a stylized depiction of authoritarianism", :category=>"stock_image"}, {:query=>"a shadowy figure leading a crowd", :category=>"stock_image"}]
      💾 Using cached images for segment 33
      ✅ Generated 1 images
    📝 Processing segment: 34
    📝 Processing segment: 34
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Donald Trump speaking at rally", :category=>"famous_person"}, {:query=>"close-up of Donald Trump smiling", :category=>"famous_person"}, {:query=>"Donald Trump shaking hands with someone", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"Donald Trump speaking at rally", :category=>"famous_person"}, {:query=>"close-up of Donald Trump smiling", :category=>"famous_person"}, {:query=>"Donald Trump shaking hands with someone", :category=>"famous_person"}]
      💾 Using cached images for segment 34
      ✅ Generated 1 images
    📝 Processing segment: 35
    📝 Processing segment: 35
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"people cheering enthusiastically at event", :category=>"stock_image"}, {:query=>"a group of smiling, happy people", :category=>"stock_image"}, {:query=>"people giving thumbs up sign", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"people cheering enthusiastically at event", :category=>"stock_image"}, {:query=>"a group of smiling, happy people", :category=>"stock_image"}, {:query=>"people giving thumbs up sign", :category=>"stock_image"}]
      💾 Using cached images for segment 35
      ✅ Generated 1 images
    📝 Processing segment: 36
    📝 Processing segment: 36
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"beautiful landscape with clear sky", :category=>"stock_image"}, {:query=>"a majestic mountain range", :category=>"stock_image"}, {:query=>"a serene beach at sunset", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"beautiful landscape with clear sky", :category=>"stock_image"}, {:query=>"a majestic mountain range", :category=>"stock_image"}, {:query=>"a serene beach at sunset", :category=>"stock_image"}]
      💾 Using cached images for segment 36
      ✅ Generated 1 images
    📝 Processing segment: 37
    📝 Processing segment: 37
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"people nodding in agreement", :category=>"stock_image"}, {:query=>"a group of people with similar expressions", :category=>"stock_image"}, {:query=>"faces showing unanimous approval", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"people nodding in agreement", :category=>"stock_image"}, {:query=>"a group of people with similar expressions", :category=>"stock_image"}, {:query=>"faces showing unanimous approval", :category=>"stock_image"}]
      💾 Using cached images for segment 37
      ✅ Generated 1 images
    📝 Processing segment: 38
    📝 Processing segment: 38
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person pointing finger accusingly", :category=>"stock_image"}, {:query=>"a gavel striking a sound block", :category=>"stock_image"}, {:query=>"a hand writing on a document", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person pointing finger accusingly", :category=>"stock_image"}, {:query=>"a gavel striking a sound block", :category=>"stock_image"}, {:query=>"a hand writing on a document", :category=>"stock_image"}]
      💾 Using cached images for segment 38
      ✅ Generated 1 images
    📝 Processing segment: 39
    📝 Processing segment: 39
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"impeachment proceedings illustration", :category=>"stock_image"}, {:query=>"a person being ostracized by a group", :category=>"stock_image"}, {:query=>"a stern face with disapproval", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"impeachment proceedings illustration", :category=>"stock_image"}, {:query=>"a person being ostracized by a group", :category=>"stock_image"}, {:query=>"a stern face with disapproval", :category=>"stock_image"}]
      💾 Using cached images for segment 39
      ✅ Generated 1 images
    📝 Processing segment: 40
    📝 Processing segment: 40
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"crumbling societal structure close up", :category=>"stock_image"}, {:query=>"dark storm clouds gathering over city", :category=>"stock_image"}, {:query=>"abstract representation of danger", :category=>"general"}]
      Debug - final image_queries: [{:query=>"crumbling societal structure close up", :category=>"stock_image"}, {:query=>"dark storm clouds gathering over city", :category=>"stock_image"}, {:query=>"abstract representation of danger", :category=>"general"}]
      💾 Using cached images for segment 40
      ✅ Generated 1 images
    📝 Processing segment: 41
    📝 Processing segment: 41
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person looking directly at camera", :category=>"stock_image"}, {:query=>"close-up of concerned human face", :category=>"stock_image"}, {:query=>"speaker addressing audience", :category=>"general"}]
      Debug - final image_queries: [{:query=>"person looking directly at camera", :category=>"stock_image"}, {:query=>"close-up of concerned human face", :category=>"stock_image"}, {:query=>"speaker addressing audience", :category=>"general"}]
      💾 Using cached images for segment 41
      ✅ Generated 1 images
    📝 Processing segment: 42
    📝 Processing segment: 42
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"global map with turbulent weather patterns", :category=>"stock_image"}, {:query=>"people looking worried in a crowd", :category=>"stock_image"}, {:query=>"abstract representation of difficult times", :category=>"general"}]
      Debug - final image_queries: [{:query=>"global map with turbulent weather patterns", :category=>"stock_image"}, {:query=>"people looking worried in a crowd", :category=>"stock_image"}, {:query=>"abstract representation of difficult times", :category=>"general"}]
      💾 Using cached images for segment 42
      ✅ Generated 1 images
    📝 Processing segment: 43
    📝 Processing segment: 43
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"authoritarian regime symbols close up", :category=>"stock_image"}, {:query=>"silhouette of a strongman figure", :category=>"stock_image"}, {:query=>"political rally with stern faces", :category=>"general"}]
      Debug - final image_queries: [{:query=>"authoritarian regime symbols close up", :category=>"stock_image"}, {:query=>"silhouette of a strongman figure", :category=>"stock_image"}, {:query=>"political rally with stern faces", :category=>"general"}]
      💾 Using cached images for segment 43
      ✅ Generated 1 images
    📝 Processing segment: 44
    📝 Processing segment: 44
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"oligarchy concept visual representation", :category=>"stock_image"}, {:query=>"wealthy elite in formal attire", :category=>"stock_image"}, {:query=>"abstract symbol of concentrated power", :category=>"general"}]
      Debug - final image_queries: [{:query=>"oligarchy concept visual representation", :category=>"stock_image"}, {:query=>"wealthy elite in formal attire", :category=>"stock_image"}, {:query=>"abstract symbol of concentrated power", :category=>"general"}]
      💾 Using cached images for segment 44
      ✅ Generated 1 images
    📝 Processing segment: 45
    📝 Processing segment: 45
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"group of billionaires in suits", :category=>"famous_person"}, {:query=>"modern skyscraper with reflective glass", :category=>"stock_image"}, {:query=>"abstract representation of wealth concentration", :category=>"general"}]
      Debug - final image_queries: [{:query=>"group of billionaires in suits", :category=>"famous_person"}, {:query=>"modern skyscraper with reflective glass", :category=>"stock_image"}, {:query=>"abstract representation of wealth concentration", :category=>"general"}]
      💾 Using cached images for segment 45
      ✅ Generated 1 images
    📝 Processing segment: 46
    📝 Processing segment: 46
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"United States Capitol building exterior", :category=>"stock_image"}, {:query=>"government building facade with flags", :category=>"stock_image"}, {:query=>"abstract representation of government control", :category=>"general"}]
      Debug - final image_queries: [{:query=>"United States Capitol building exterior", :category=>"stock_image"}, {:query=>"government building facade with flags", :category=>"stock_image"}, {:query=>"abstract representation of government control", :category=>"general"}]
      💾 Using cached images for segment 46
      ✅ Generated 1 images
    📝 Processing segment: 47
    📝 Processing segment: 47
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Elon Musk speaking at event", :category=>"famous_person"}, {:query=>"Elon Musk portrait close up", :category=>"famous_person"}, {:query=>"Elon Musk in front of SpaceX rocket", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"Elon Musk speaking at event", :category=>"famous_person"}, {:query=>"Elon Musk portrait close up", :category=>"famous_person"}, {:query=>"Elon Musk in front of SpaceX rocket", :category=>"famous_person"}]
      💾 Using cached images for segment 47
      ✅ Generated 1 images
    📝 Processing segment: 48
    📝 Processing segment: 48
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"veterans protesting government policy", :category=>"stock_image"}, {:query=>"veteran looking distressed", :category=>"stock_image"}, {:query=>"protest sign with veteran symbols", :category=>"general"}]
      Debug - final image_queries: [{:query=>"veterans protesting government policy", :category=>"stock_image"}, {:query=>"veteran looking distressed", :category=>"stock_image"}, {:query=>"protest sign with veteran symbols", :category=>"general"}]
      💾 Using cached images for segment 48
      ✅ Generated 1 images
    📝 Processing segment: 49
    📝 Processing segment: 49
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Veterans Affairs building exterior", :category=>"stock_image"}, {:query=>"VA hospital entrance", :category=>"stock_image"}, {:query=>"abstract representation of healthcare system", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Veterans Affairs building exterior", :category=>"stock_image"}, {:query=>"VA hospital entrance", :category=>"stock_image"}, {:query=>"abstract representation of healthcare system", :category=>"general"}]
      💾 Using cached images for segment 49
      ✅ Generated 1 images
    📝 Processing segment: 50
    📝 Processing segment: 50
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"VA hospital exterior, overcast sky", :category=>"stock_image"}, {:query=>"silhouette of government building", :category=>"stock_image"}, {:query=>"veterans affairs building entrance", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"VA hospital exterior, overcast sky", :category=>"stock_image"}, {:query=>"silhouette of government building", :category=>"stock_image"}, {:query=>"veterans affairs building entrance", :category=>"stock_image"}]
      💾 Using cached images for segment 50
      ✅ Generated 1 images
    📝 Processing segment: 51
    📝 Processing segment: 51
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"doctor examining veteran patient", :category=>"stock_image"}, {:query=>"nurse tending to elderly patient", :category=>"stock_image"}, {:query=>"healthcare professional in uniform", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"doctor examining veteran patient", :category=>"stock_image"}, {:query=>"nurse tending to elderly patient", :category=>"stock_image"}, {:query=>"healthcare professional in uniform", :category=>"stock_image"}]
      💾 Using cached images for segment 51
      ✅ Generated 1 images
    📝 Processing segment: 52
    📝 Processing segment: 52
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"veteran receiving benefits check", :category=>"stock_image"}, {:query=>"hand receiving official document", :category=>"stock_image"}, {:query=>"symbol of government benefits", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"veteran receiving benefits check", :category=>"stock_image"}, {:query=>"hand receiving official document", :category=>"stock_image"}, {:query=>"symbol of government benefits", :category=>"stock_image"}]
      💾 Using cached images for segment 52
      ✅ Generated 1 images
    📝 Processing segment: 53
    📝 Processing segment: 53
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Social Security Administration building", :category=>"stock_image"}, {:query=>"icon of social security card", :category=>"stock_image"}, {:query=>"graphic of government bureaucracy", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Social Security Administration building", :category=>"stock_image"}, {:query=>"icon of social security card", :category=>"stock_image"}, {:query=>"graphic of government bureaucracy", :category=>"stock_image"}]
      💾 Using cached images for segment 53
      ✅ Generated 1 images
    📝 Processing segment: 54
    📝 Processing segment: 54
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person with disability entering office", :category=>"stock_image"}, {:query=>"person with cane entering building", :category=>"stock_image"}, {:query=>"wheelchair user at government building", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person with disability entering office", :category=>"stock_image"}, {:query=>"person with cane entering building", :category=>"stock_image"}, {:query=>"wheelchair user at government building", :category=>"stock_image"}]
      💾 Using cached images for segment 54
      ✅ Generated 1 images
    📝 Processing segment: 55
    📝 Processing segment: 55
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"closed Social Security office sign", :category=>"stock_image"}, {:query=>"empty government office interior", :category=>"stock_image"}, {:query=>"sign indicating reduced hours", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"closed Social Security office sign", :category=>"stock_image"}, {:query=>"empty government office interior", :category=>"stock_image"}, {:query=>"sign indicating reduced hours", :category=>"stock_image"}]
      💾 Using cached images for segment 55
      ✅ Generated 1 images
    📝 Processing segment: 56
    📝 Processing segment: 56
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"group of wealthy people in suits", :category=>"stock_image"}, {:query=>"silhouette of powerful figures", :category=>"stock_image"}, {:query=>"abstract representation of oligarchy", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"group of wealthy people in suits", :category=>"stock_image"}, {:query=>"silhouette of powerful figures", :category=>"stock_image"}, {:query=>"abstract representation of oligarchy", :category=>"stock_image"}]
      💾 Using cached images for segment 56
      ✅ Generated 1 images
    📝 Processing segment: 57
    📝 Processing segment: 57
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"broken social program icons", :category=>"stock_image"}, {:query=>"graphic of dismantled infrastructure", :category=>"stock_image"}, {:query=>"symbol of program cuts", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"broken social program icons", :category=>"stock_image"}, {:query=>"graphic of dismantled infrastructure", :category=>"stock_image"}, {:query=>"symbol of program cuts", :category=>"stock_image"}]
      💾 Using cached images for segment 57
      ✅ Generated 1 images
    📝 Processing segment: 58
    📝 Processing segment: 58
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"stacks of money with tax symbols", :category=>"stock_image"}, {:query=>"graphic of wealth inequality", :category=>"stock_image"}, {:query=>"billionaire class receiving tax breaks", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"stacks of money with tax symbols", :category=>"stock_image"}, {:query=>"graphic of wealth inequality", :category=>"stock_image"}, {:query=>"billionaire class receiving tax breaks", :category=>"stock_image"}]
      💾 Using cached images for segment 58
      ✅ Generated 1 images
    📝 Processing segment: 59
    📝 Processing segment: 59
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking", :category=>"famous_person"}, {:query=>"crowd at political rally", :category=>"stock_image"}, {:query=>"people protesting government policy", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking", :category=>"famous_person"}, {:query=>"crowd at political rally", :category=>"stock_image"}, {:query=>"people protesting government policy", :category=>"stock_image"}]
      💾 Using cached images for segment 59
      ✅ Generated 1 images
    📝 Processing segment: 60
    📝 Processing segment: 60
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"politician on anti-oligarchy tour speaking", :category=>"famous_person"}, {:query=>"crowd gathered for political rally", :category=>"stock_image"}, {:query=>"activist speaking at public event", :category=>"general"}]
      Debug - final image_queries: [{:query=>"politician on anti-oligarchy tour speaking", :category=>"famous_person"}, {:query=>"crowd gathered for political rally", :category=>"stock_image"}, {:query=>"activist speaking at public event", :category=>"general"}]
      💾 Using cached images for segment 60
      ✅ Generated 1 images
    📝 Processing segment: 61
    📝 Processing segment: 61
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"large enthusiastic political rally crowd", :category=>"stock_image"}, {:query=>"people cheering at political event", :category=>"stock_image"}, {:query=>"diverse crowd at public gathering", :category=>"general"}]
      Debug - final image_queries: [{:query=>"large enthusiastic political rally crowd", :category=>"stock_image"}, {:query=>"people cheering at political event", :category=>"stock_image"}, {:query=>"diverse crowd at public gathering", :category=>"general"}]
      💾 Using cached images for segment 61
      ✅ Generated 1 images
    📝 Processing segment: 62
    📝 Processing segment: 62
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"politician speaking at podium close-up", :category=>"famous_person"}, {:query=>"speaker addressing a large audience", :category=>"stock_image"}, {:query=>"photo of politician giving speech", :category=>"general"}]
      Debug - final image_queries: [{:query=>"politician speaking at podium close-up", :category=>"famous_person"}, {:query=>"speaker addressing a large audience", :category=>"stock_image"}, {:query=>"photo of politician giving speech", :category=>"general"}]
      💾 Using cached images for segment 62
      ✅ Generated 1 images
    📝 Processing segment: 63
    📝 Processing segment: 63
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"map of United States with pins", :category=>"stock_image"}, {:query=>"politician traveling across country", :category=>"general"}, {:query=>"aerial view of American landscape", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"map of United States with pins", :category=>"stock_image"}, {:query=>"politician traveling across country", :category=>"general"}, {:query=>"aerial view of American landscape", :category=>"stock_image"}]
      💾 Using cached images for segment 63
      ✅ Generated 1 images
    📝 Processing segment: 64
    📝 Processing segment: 64
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"calendar with next week circled", :category=>"stock_image"}, {:query=>"politician with busy schedule", :category=>"general"}, {:query=>"travel itinerary planning graphic", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"calendar with next week circled", :category=>"stock_image"}, {:query=>"politician with busy schedule", :category=>"general"}, {:query=>"travel itinerary planning graphic", :category=>"stock_image"}]
      💾 Using cached images for segment 64
      ✅ Generated 1 images
    📝 Processing segment: 65
    📝 Processing segment: 65
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Elon Musk speaking at event", :category=>"famous_person"}, {:query=>"Donald Trump at presidential podium", :category=>"famous_person"}, {:query=>"two powerful men in discussion", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Elon Musk speaking at event", :category=>"famous_person"}, {:query=>"Donald Trump at presidential podium", :category=>"famous_person"}, {:query=>"two powerful men in discussion", :category=>"general"}]
      💾 Using cached images for segment 65
      ✅ Generated 1 images
    📝 Processing segment: 66
    📝 Processing segment: 66
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"frustrated citizens at town hall", :category=>"stock_image"}, {:query=>"Democratic Congressman Glenn Ivey speaking", :category=>"famous_person"}, {:query=>"people expressing concern at meeting", :category=>"general"}]
      Debug - final image_queries: [{:query=>"frustrated citizens at town hall", :category=>"stock_image"}, {:query=>"Democratic Congressman Glenn Ivey speaking", :category=>"famous_person"}, {:query=>"people expressing concern at meeting", :category=>"general"}]
      💾 Using cached images for segment 66
      ✅ Generated 1 images
    📝 Processing segment: 67
    📝 Processing segment: 67
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"political strategists in meeting", :category=>"stock_image"}, {:query=>"people looking confused at strategy", :category=>"general"}, {:query=>"team discussing failed plan", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"political strategists in meeting", :category=>"stock_image"}, {:query=>"people looking confused at strategy", :category=>"general"}, {:query=>"team discussing failed plan", :category=>"stock_image"}]
      💾 Using cached images for segment 67
      ✅ Generated 1 images
    📝 Processing segment: 68
    📝 Processing segment: 68
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"politician looking defiant in minority", :category=>"general"}, {:query=>"congressional minority leader speaking", :category=>"famous_person"}, {:query=>"political opposition group graphic", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"politician looking defiant in minority", :category=>"general"}, {:query=>"congressional minority leader speaking", :category=>"famous_person"}, {:query=>"political opposition group graphic", :category=>"stock_image"}]
      💾 Using cached images for segment 68
      ✅ Generated 1 images
    📝 Processing segment: 69
    📝 Processing segment: 69
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Mitch McConnell speaking forcefully", :category=>"famous_person"}, {:query=>"politician showing backbone graphic", :category=>"general"}, {:query=>"strategic brilliance concept image", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Mitch McConnell speaking forcefully", :category=>"famous_person"}, {:query=>"politician showing backbone graphic", :category=>"general"}, {:query=>"strategic brilliance concept image", :category=>"stock_image"}]
      💾 Using cached images for segment 69
      ✅ Generated 1 images
    📝 Processing segment: 70
    📝 Processing segment: 70
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking at podium", :category=>"famous_person"}, {:query=>"discontented crowd at political rally", :category=>"stock_image"}, {:query=>"Democratic Party leadership meeting", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking at podium", :category=>"famous_person"}, {:query=>"discontented crowd at political rally", :category=>"stock_image"}, {:query=>"Democratic Party leadership meeting", :category=>"general"}]
      💾 Using cached images for segment 70
      ✅ Generated 1 images
    📝 Processing segment: 71
    📝 Processing segment: 71
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez and progressive ally", :category=>"famous_person"}, {:query=>"Democratic Party logo with question mark", :category=>"stock_image"}, {:query=>"group of diverse people discussing politics", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez and progressive ally", :category=>"famous_person"}, {:query=>"Democratic Party logo with question mark", :category=>"stock_image"}, {:query=>"group of diverse people discussing politics", :category=>"general"}]
      💾 Using cached images for segment 71
      ✅ Generated 1 images
    📝 Processing segment: 72
    📝 Processing segment: 72
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"diverse group of people at town hall", :category=>"stock_image"}, {:query=>"Alexandria Ocasio-Cortez engaging voters", :category=>"famous_person"}, {:query=>"independent voter registration booth", :category=>"general"}]
      Debug - final image_queries: [{:query=>"diverse group of people at town hall", :category=>"stock_image"}, {:query=>"Alexandria Ocasio-Cortez engaging voters", :category=>"famous_person"}, {:query=>"independent voter registration booth", :category=>"general"}]
      💾 Using cached images for segment 72
      ✅ Generated 1 images
    📝 Processing segment: 73
    📝 Processing segment: 73
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"working class family struggling financially", :category=>"stock_image"}, {:query=>"hands holding up protest signs", :category=>"stock_image"}, {:query=>"factory worker looking weary", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"working class family struggling financially", :category=>"stock_image"}, {:query=>"hands holding up protest signs", :category=>"stock_image"}, {:query=>"factory worker looking weary", :category=>"stock_image"}]
      💾 Using cached images for segment 73
      ✅ Generated 1 images
    📝 Processing segment: 74
    📝 Processing segment: 74
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"inflation graph showing rising prices", :category=>"stock_image"}, {:query=>"wage growth chart stagnant", :category=>"stock_image"}, {:query=>"worker looking at empty wallet", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"inflation graph showing rising prices", :category=>"stock_image"}, {:query=>"wage growth chart stagnant", :category=>"stock_image"}, {:query=>"worker looking at empty wallet", :category=>"stock_image"}]
      💾 Using cached images for segment 74
      ✅ Generated 1 images
    📝 Processing segment: 75
    📝 Processing segment: 75
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"wealthy individuals on yacht", :category=>"stock_image"}, {:query=>"stock market ticker with upward trend", :category=>"stock_image"}, {:query=>"person counting money with a smile", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"wealthy individuals on yacht", :category=>"stock_image"}, {:query=>"stock market ticker with upward trend", :category=>"stock_image"}, {:query=>"person counting money with a smile", :category=>"stock_image"}]
      💾 Using cached images for segment 75
      ✅ Generated 1 images
    📝 Processing segment: 76
    📝 Processing segment: 76
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"broken stethoscope on medical chart", :category=>"stock_image"}, {:query=>"hospital hallway with empty beds", :category=>"stock_image"}, {:query=>"doctor looking concerned at patient", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"broken stethoscope on medical chart", :category=>"stock_image"}, {:query=>"hospital hallway with empty beds", :category=>"stock_image"}, {:query=>"doctor looking concerned at patient", :category=>"stock_image"}]
      💾 Using cached images for segment 76
      ✅ Generated 1 images
    📝 Processing segment: 77
    📝 Processing segment: 77
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"homeless person sleeping on sidewalk", :category=>"stock_image"}, {:query=>"empty apartment building with 'for rent' signs", :category=>"stock_image"}, {:query=>"family looking at eviction notice", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"homeless person sleeping on sidewalk", :category=>"stock_image"}, {:query=>"empty apartment building with 'for rent' signs", :category=>"stock_image"}, {:query=>"family looking at eviction notice", :category=>"stock_image"}]
      💾 Using cached images for segment 77
      ✅ Generated 1 images
    📝 Processing segment: 78
    📝 Processing segment: 78
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"empty crib with scattered toys", :category=>"stock_image"}, {:query=>"childcare center with few children", :category=>"stock_image"}, {:query=>"parent looking stressed with child", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"empty crib with scattered toys", :category=>"stock_image"}, {:query=>"childcare center with few children", :category=>"stock_image"}, {:query=>"parent looking stressed with child", :category=>"stock_image"}]
      💾 Using cached images for segment 78
      ✅ Generated 1 images
    📝 Processing segment: 79
    📝 Processing segment: 79
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"melting glaciers and rising sea levels", :category=>"stock_image"}, {:query=>"wildfire raging through forest", :category=>"stock_image"}, {:query=>"extreme weather event visual", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"melting glaciers and rising sea levels", :category=>"stock_image"}, {:query=>"wildfire raging through forest", :category=>"stock_image"}, {:query=>"extreme weather event visual", :category=>"stock_image"}]
      💾 Using cached images for segment 79
      ✅ Generated 1 images
    📝 Processing segment: 80
    📝 Processing segment: 80
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"American people rallying together diverse crowd", :category=>"stock_image"}, {:query=>"diverse group of Americans united", :category=>"stock_image"}, {:query=>"crowd of citizens holding signs", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"American people rallying together diverse crowd", :category=>"stock_image"}, {:query=>"diverse group of Americans united", :category=>"stock_image"}, {:query=>"crowd of citizens holding signs", :category=>"stock_image"}]
      💾 Using cached images for segment 80
      ✅ Generated 1 images
    📝 Processing segment: 81
    📝 Processing segment: 81
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"American flag waving in wind close-up", :category=>"stock_image"}, {:query=>"iconic American landmarks montage", :category=>"stock_image"}, {:query=>"diverse Americans looking hopeful", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"American flag waving in wind close-up", :category=>"stock_image"}, {:query=>"iconic American landmarks montage", :category=>"stock_image"}, {:query=>"diverse Americans looking hopeful", :category=>"stock_image"}]
      💾 Using cached images for segment 81
      ✅ Generated 1 images
    📝 Processing segment: 82
    📝 Processing segment: 82
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"people standing up and fighting back", :category=>"stock_image"}, {:query=>"protestors raising fists in air", :category=>"stock_image"}, {:query=>"citizens demanding change protest", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"people standing up and fighting back", :category=>"stock_image"}, {:query=>"protestors raising fists in air", :category=>"stock_image"}, {:query=>"citizens demanding change protest", :category=>"stock_image"}]
      💾 Using cached images for segment 82
      ✅ Generated 1 images
    📝 Processing segment: 83
    📝 Processing segment: 83
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"modern cityscape with skyscrapers", :category=>"stock_image"}, {:query=>"wealthy nation skyline panorama", :category=>"stock_image"}, {:query=>"opulent city architecture", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"modern cityscape with skyscrapers", :category=>"stock_image"}, {:query=>"wealthy nation skyline panorama", :category=>"stock_image"}, {:query=>"opulent city architecture", :category=>"stock_image"}]
      💾 Using cached images for segment 83
      ✅ Generated 1 images
    📝 Processing segment: 84
    📝 Processing segment: 84
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person receiving medical care hospital", :category=>"stock_image"}, {:query=>"healthcare access for all concept", :category=>"stock_image"}, {:query=>"doctor examining patient close-up", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person receiving medical care hospital", :category=>"stock_image"}, {:query=>"healthcare access for all concept", :category=>"stock_image"}, {:query=>"doctor examining patient close-up", :category=>"stock_image"}]
      💾 Using cached images for segment 84
      ✅ Generated 1 images
    📝 Processing segment: 85
    📝 Processing segment: 85
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"homeless people sleeping on street", :category=>"stock_image"}, {:query=>"urban street scene with homeless", :category=>"stock_image"}, {:query=>"people seeking shelter outdoors", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"homeless people sleeping on street", :category=>"stock_image"}, {:query=>"urban street scene with homeless", :category=>"stock_image"}, {:query=>"people seeking shelter outdoors", :category=>"stock_image"}]
      💾 Using cached images for segment 85
      ✅ Generated 1 images
    📝 Processing segment: 86
    📝 Processing segment: 86
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"American flag superimposed on economic graph", :category=>"stock_image"}, {:query=>"diverse group of Americans working together", :category=>"stock_image"}, {:query=>"symbol of prosperous nation", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"American flag superimposed on economic graph", :category=>"stock_image"}, {:query=>"diverse group of Americans working together", :category=>"stock_image"}, {:query=>"symbol of prosperous nation", :category=>"stock_image"}]
      💾 Using cached images for segment 86
      ✅ Generated 1 images
    📝 Processing segment: 87
    📝 Processing segment: 87
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"United States Capitol building exterior", :category=>"stock_image"}, {:query=>"Senate chamber interior during session", :category=>"stock_image"}, {:query=>"government building facade", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"United States Capitol building exterior", :category=>"stock_image"}, {:query=>"Senate chamber interior during session", :category=>"stock_image"}, {:query=>"government building facade", :category=>"stock_image"}]
      💾 Using cached images for segment 87
      ✅ Generated 1 images
    📝 Processing segment: 88
    📝 Processing segment: 88
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator Chuck Schumer portrait", :category=>"famous_person"}, {:query=>"Chuck Schumer speaking at podium", :category=>"famous_person"}, {:query=>"close-up of Chuck Schumer", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"Senator Chuck Schumer portrait", :category=>"famous_person"}, {:query=>"Chuck Schumer speaking at podium", :category=>"famous_person"}, {:query=>"close-up of Chuck Schumer", :category=>"famous_person"}]
      💾 Using cached images for segment 88
      ✅ Generated 1 images
    📝 Processing segment: 89
    📝 Processing segment: 89
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator Chuck Schumer looking thoughtful", :category=>"famous_person"}, {:query=>"political debate or disagreement", :category=>"stock_image"}, {:query=>"people expressing strong opinions", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Senator Chuck Schumer looking thoughtful", :category=>"famous_person"}, {:query=>"political debate or disagreement", :category=>"stock_image"}, {:query=>"people expressing strong opinions", :category=>"stock_image"}]
      💾 Using cached images for segment 89
      ✅ Generated 1 images
    📝 Processing segment: 90
    📝 Processing segment: 90
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Democratic Party caucus meeting", :category=>"stock_image"}, {:query=>"political party symbol", :category=>"stock_image"}, {:query=>"group of politicians debating", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Democratic Party caucus meeting", :category=>"stock_image"}, {:query=>"political party symbol", :category=>"stock_image"}, {:query=>"group of politicians debating", :category=>"stock_image"}]
      💾 Using cached images for segment 90
      ✅ Generated 1 images
    📝 Processing segment: 91
    📝 Processing segment: 91
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"empty political podium", :category=>"stock_image"}, {:query=>"closed caucus room door", :category=>"stock_image"}, {:query=>"political debate stage empty", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"empty political podium", :category=>"stock_image"}, {:query=>"closed caucus room door", :category=>"stock_image"}, {:query=>"political debate stage empty", :category=>"stock_image"}]
      💾 Using cached images for segment 91
      ✅ Generated 1 images
    📝 Processing segment: 92
    📝 Processing segment: 92
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Democratic Party donkey mascot", :category=>"stock_image"}, {:query=>"US Democratic Party logo", :category=>"stock_image"}, {:query=>"group of diverse Democrats", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Democratic Party donkey mascot", :category=>"stock_image"}, {:query=>"US Democratic Party logo", :category=>"stock_image"}, {:query=>"group of diverse Democrats", :category=>"stock_image"}]
      💾 Using cached images for segment 92
      ✅ Generated 1 images
    📝 Processing segment: 93
    📝 Processing segment: 93
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person taking deep breath outdoors", :category=>"stock_image"}, {:query=>"calm person meditating", :category=>"stock_image"}, {:query=>"person exhaling slowly", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person taking deep breath outdoors", :category=>"stock_image"}, {:query=>"calm person meditating", :category=>"stock_image"}, {:query=>"person exhaling slowly", :category=>"stock_image"}]
      💾 Using cached images for segment 93
      ✅ Generated 1 images
    📝 Processing segment: 94
    📝 Processing segment: 94
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Elon Musk portrait", :category=>"famous_person"}, {:query=>"Republican Party elephant mascot", :category=>"stock_image"}, {:query=>"Donald Trump speaking at rally", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"Elon Musk portrait", :category=>"famous_person"}, {:query=>"Republican Party elephant mascot", :category=>"stock_image"}, {:query=>"Donald Trump speaking at rally", :category=>"famous_person"}]
      💾 Using cached images for segment 94
      ✅ Generated 1 images
    📝 Processing segment: 95
    📝 Processing segment: 95
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"billionaire class luxury lifestyle", :category=>"stock_image"}, {:query=>"political consultants in meeting", :category=>"stock_image"}, {:query=>"out of touch business people", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"billionaire class luxury lifestyle", :category=>"stock_image"}, {:query=>"political consultants in meeting", :category=>"stock_image"}, {:query=>"out of touch business people", :category=>"stock_image"}]
      💾 Using cached images for segment 95
      ✅ Generated 1 images
    📝 Processing segment: 96
    📝 Processing segment: 96
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"disconnected from reality concept", :category=>"stock_image"}, {:query=>"Democratic Party headquarters exterior", :category=>"stock_image"}, {:query=>"lack of grassroots support visual", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"disconnected from reality concept", :category=>"stock_image"}, {:query=>"Democratic Party headquarters exterior", :category=>"stock_image"}, {:query=>"lack of grassroots support visual", :category=>"stock_image"}]
      💾 Using cached images for segment 96
      ✅ Generated 1 images
    📝 Processing segment: 97
    📝 Processing segment: 97
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"party within a party concept", :category=>"stock_image"}, {:query=>"political faction symbol", :category=>"stock_image"}, {:query=>"internal party division visual", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"party within a party concept", :category=>"stock_image"}, {:query=>"political faction symbol", :category=>"stock_image"}, {:query=>"internal party division visual", :category=>"stock_image"}]
      💾 Using cached images for segment 97
      ✅ Generated 1 images
    📝 Processing segment: 98
    📝 Processing segment: 98
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"millions of young people protesting", :category=>"stock_image"}, {:query=>"diverse group of young activists", :category=>"stock_image"}, {:query=>"youthful political movement", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"millions of young people protesting", :category=>"stock_image"}, {:query=>"diverse group of young activists", :category=>"stock_image"}, {:query=>"youthful political movement", :category=>"stock_image"}]
      💾 Using cached images for segment 98
      ✅ Generated 1 images
    📝 Processing segment: 99
    📝 Processing segment: 99
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"working class people united", :category=>"stock_image"}, {:query=>"people of color demanding change", :category=>"stock_image"}, {:query=>"labor union rally", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"working class people united", :category=>"stock_image"}, {:query=>"people of color demanding change", :category=>"stock_image"}, {:query=>"labor union rally", :category=>"stock_image"}]
      💾 Using cached images for segment 99
      ✅ Generated 1 images
    📝 Processing segment: 100
    📝 Processing segment: 100
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"powerful corporate interests skyscrapers", :category=>"stock_image"}, {:query=>"wealthy executives in boardrooms", :category=>"stock_image"}, {:query=>"money flowing into corporate coffers", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"powerful corporate interests skyscrapers", :category=>"stock_image"}, {:query=>"wealthy executives in boardrooms", :category=>"stock_image"}, {:query=>"money flowing into corporate coffers", :category=>"stock_image"}]
      💾 Using cached images for segment 100
      ✅ Generated 1 images
    📝 Processing segment: 101
    📝 Processing segment: 101
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking", :category=>"famous_person"}, {:query=>"crowd listening to politician", :category=>"stock_image"}, {:query=>"voters at a town hall", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking", :category=>"famous_person"}, {:query=>"crowd listening to politician", :category=>"stock_image"}, {:query=>"voters at a town hall", :category=>"stock_image"}]
      💾 Using cached images for segment 101
      ✅ Generated 1 images
    📝 Processing segment: 102
    📝 Processing segment: 102
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking passionately", :category=>"famous_person"}, {:query=>"political rally with signs", :category=>"stock_image"}, {:query=>"voters discussing politics", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez speaking passionately", :category=>"famous_person"}, {:query=>"political rally with signs", :category=>"stock_image"}, {:query=>"voters discussing politics", :category=>"stock_image"}]
      💾 Using cached images for segment 102
      ✅ Generated 1 images
    📝 Processing segment: 103
    📝 Processing segment: 103
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez looking determined", :category=>"famous_person"}, {:query=>"political challenger facing incumbent", :category=>"stock_image"}, {:query=>"graphic of primary election ballot", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez looking determined", :category=>"famous_person"}, {:query=>"political challenger facing incumbent", :category=>"stock_image"}, {:query=>"graphic of primary election ballot", :category=>"stock_image"}]
      💾 Using cached images for segment 103
      ✅ Generated 1 images
    📝 Processing segment: 104
    📝 Processing segment: 104
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Alexandria Ocasio-Cortez confident expression", :category=>"famous_person"}, {:query=>"political debate with strong presence", :category=>"stock_image"}, {:query=>"close-up of a formidable opponent", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Alexandria Ocasio-Cortez confident expression", :category=>"famous_person"}, {:query=>"political debate with strong presence", :category=>"stock_image"}, {:query=>"close-up of a formidable opponent", :category=>"stock_image"}]
      💾 Using cached images for segment 104
      ✅ Generated 1 images
    📝 Processing segment: 105
    📝 Processing segment: 105
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person looking away, hesitant", :category=>"stock_image"}, {:query=>"person with hands up, refusing", :category=>"stock_image"}, {:query=>"abstract representation of avoidance", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person looking away, hesitant", :category=>"stock_image"}, {:query=>"person with hands up, refusing", :category=>"stock_image"}, {:query=>"abstract representation of avoidance", :category=>"stock_image"}]
      💾 Using cached images for segment 105
      ✅ Generated 1 images
    📝 Processing segment: 106
    📝 Processing segment: 106
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"calendar pages flipping rapidly", :category=>"stock_image"}, {:query=>"clock hands spinning backward", :category=>"stock_image"}, {:query=>"abstract concept of time passing", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"calendar pages flipping rapidly", :category=>"stock_image"}, {:query=>"clock hands spinning backward", :category=>"stock_image"}, {:query=>"abstract concept of time passing", :category=>"stock_image"}]
      💾 Using cached images for segment 106
      ✅ Generated 1 images
    📝 Processing segment: 107
    📝 Processing segment: 107
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"calendar with future dates circled", :category=>"stock_image"}, {:query=>"abstract visualization of future", :category=>"stock_image"}, {:query=>"road stretching into the distance", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"calendar with future dates circled", :category=>"stock_image"}, {:query=>"abstract visualization of future", :category=>"stock_image"}, {:query=>"road stretching into the distance", :category=>"stock_image"}]
      💾 Using cached images for segment 107
      ✅ Generated 1 images
    📝 Processing segment: 108
    📝 Processing segment: 108
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"television screen with news graphics", :category=>"stock_image"}, {:query=>"camera lens focusing", :category=>"stock_image"}, {:query=>"media headlines montage", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"television screen with news graphics", :category=>"stock_image"}, {:query=>"camera lens focusing", :category=>"stock_image"}, {:query=>"media headlines montage", :category=>"stock_image"}]
      💾 Using cached images for segment 108
      ✅ Generated 1 images
    📝 Processing segment: 109
    📝 Processing segment: 109
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"diverse group of people looking concerned", :category=>"stock_image"}, {:query=>"people discussing everyday issues", :category=>"stock_image"}, {:query=>"close-up of worried faces", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"diverse group of people looking concerned", :category=>"stock_image"}, {:query=>"people discussing everyday issues", :category=>"stock_image"}, {:query=>"close-up of worried faces", :category=>"stock_image"}]
      💾 Using cached images for segment 109
      ✅ Generated 1 images
    📝 Processing segment: 110
    📝 Processing segment: 110
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"American flag waving sunrise", :category=>"stock_image"}, {:query=>"crowd of diverse Americans listening", :category=>"stock_image"}, {:query=>"close-up of a person waking up", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"American flag waving sunrise", :category=>"stock_image"}, {:query=>"crowd of diverse Americans listening", :category=>"stock_image"}, {:query=>"close-up of a person waking up", :category=>"stock_image"}]
      💾 Using cached images for segment 110
      ✅ Generated 1 images
    📝 Processing segment: 111
    📝 Processing segment: 111
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"diverse group of Americans looking thoughtful", :category=>"stock_image"}, {:query=>"American people in everyday settings", :category=>"stock_image"}, {:query=>"silhouettes of a large crowd", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"diverse group of Americans looking thoughtful", :category=>"stock_image"}, {:query=>"American people in everyday settings", :category=>"stock_image"}, {:query=>"silhouettes of a large crowd", :category=>"stock_image"}]
      💾 Using cached images for segment 111
      ✅ Generated 1 images
    📝 Processing segment: 112
    📝 Processing segment: 112
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"hand giving money to wealthy person", :category=>"stock_image"}, {:query=>"silhouette of a billionaire in a suit", :category=>"famous_person"}, {:query=>"stacks of money with a tax symbol", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"hand giving money to wealthy person", :category=>"stock_image"}, {:query=>"silhouette of a billionaire in a suit", :category=>"famous_person"}, {:query=>"stacks of money with a tax symbol", :category=>"stock_image"}]
      💾 Using cached images for segment 112
      ✅ Generated 1 images
    📝 Processing segment: 113
    📝 Processing segment: 113
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Medicaid logo with a downward arrow", :category=>"stock_image"}, {:query=>"Social Security building facade", :category=>"stock_image"}, {:query=>"graphic showing budget cuts to social programs", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Medicaid logo with a downward arrow", :category=>"stock_image"}, {:query=>"Social Security building facade", :category=>"stock_image"}, {:query=>"graphic showing budget cuts to social programs", :category=>"stock_image"}]
      💾 Using cached images for segment 113
      ✅ Generated 1 images
    📝 Processing segment: 114
    📝 Processing segment: 114
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"veterans saluting American flag", :category=>"stock_image"}, {:query=>"graphic of a nutrition program being cut", :category=>"stock_image"}, {:query=>"military medal with a red X", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"veterans saluting American flag", :category=>"stock_image"}, {:query=>"graphic of a nutrition program being cut", :category=>"stock_image"}, {:query=>"military medal with a red X", :category=>"stock_image"}]
      💾 Using cached images for segment 114
      ✅ Generated 1 images
    📝 Processing segment: 115
    📝 Processing segment: 115
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"people gathering at a town hall meeting", :category=>"stock_image"}, {:query=>"grassroots activism protest sign", :category=>"stock_image"}, {:query=>"diverse community members collaborating", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"people gathering at a town hall meeting", :category=>"stock_image"}, {:query=>"grassroots activism protest sign", :category=>"stock_image"}, {:query=>"diverse community members collaborating", :category=>"stock_image"}]
      💾 Using cached images for segment 115
      ✅ Generated 1 images
    📝 Processing segment: 116
    📝 Processing segment: 116
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person speaking at a school board meeting", :category=>"stock_image"}, {:query=>"Capitol building dome with people entering", :category=>"stock_image"}, {:query=>"Senate chamber interior", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person speaking at a school board meeting", :category=>"stock_image"}, {:query=>"Capitol building dome with people entering", :category=>"stock_image"}, {:query=>"Senate chamber interior", :category=>"stock_image"}]
      💾 Using cached images for segment 116
      ✅ Generated 1 images
    📝 Processing segment: 117
    📝 Processing segment: 117
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person holding a sign saying 'Stand Up'", :category=>"stock_image"}, {:query=>"diverse group standing together united", :category=>"stock_image"}, {:query=>"symbol of solidarity and strength", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person holding a sign saying 'Stand Up'", :category=>"stock_image"}, {:query=>"diverse group standing together united", :category=>"stock_image"}, {:query=>"symbol of solidarity and strength", :category=>"stock_image"}]
      💾 Using cached images for segment 117
      ✅ Generated 1 images
    📝 Processing segment: 118
    📝 Processing segment: 118
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"working class people in a factory", :category=>"stock_image"}, {:query=>"contrast between wealthy and working class", :category=>"stock_image"}, {:query=>"hands of laborers", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"working class people in a factory", :category=>"stock_image"}, {:query=>"contrast between wealthy and working class", :category=>"stock_image"}, {:query=>"hands of laborers", :category=>"stock_image"}]
      💾 Using cached images for segment 118
      ✅ Generated 1 images
    📝 Processing segment: 119
    📝 Processing segment: 119
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"American flag with a determined expression", :category=>"stock_image"}, {:query=>"close-up of a person with conviction", :category=>"stock_image"}, {:query=>"symbol of a pivotal moment", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"American flag with a determined expression", :category=>"stock_image"}, {:query=>"close-up of a person with conviction", :category=>"stock_image"}, {:query=>"symbol of a pivotal moment", :category=>"stock_image"}]
      💾 Using cached images for segment 119
      ✅ Generated 1 images
    📝 Processing segment: 120
    📝 Processing segment: 120
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator speaking at town hall", :category=>"famous_person"}, {:query=>"crowd listening intently at town hall", :category=>"stock_image"}, {:query=>"political rally audience reaction", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Senator speaking at town hall", :category=>"famous_person"}, {:query=>"crowd listening intently at town hall", :category=>"stock_image"}, {:query=>"political rally audience reaction", :category=>"general"}]
      💾 Using cached images for segment 120
      ✅ Generated 1 images
    📝 Processing segment: 121
    📝 Processing segment: 121
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person watching political broadcast", :category=>"stock_image"}, {:query=>"viewer looking at screen intently", :category=>"general"}, {:query=>"uninformed citizen watching news", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"person watching political broadcast", :category=>"stock_image"}, {:query=>"viewer looking at screen intently", :category=>"general"}, {:query=>"uninformed citizen watching news", :category=>"stock_image"}]
      💾 Using cached images for segment 121
      ✅ Generated 1 images
    📝 Processing segment: 122
    📝 Processing segment: 122
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"politician traveling across country", :category=>"famous_person"}, {:query=>"aerial view of American highway", :category=>"stock_image"}, {:query=>"campaign bus on road", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"politician traveling across country", :category=>"famous_person"}, {:query=>"aerial view of American highway", :category=>"stock_image"}, {:query=>"campaign bus on road", :category=>"stock_image"}]
      💾 Using cached images for segment 122
      ✅ Generated 1 images
    📝 Processing segment: 123
    📝 Processing segment: 123
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"politician's campaign stops montage", :category=>"famous_person"}, {:query=>"diverse American cities street view", :category=>"stock_image"}, {:query=>"political candidate visiting towns", :category=>"general"}]
      Debug - final image_queries: [{:query=>"politician's campaign stops montage", :category=>"famous_person"}, {:query=>"diverse American cities street view", :category=>"stock_image"}, {:query=>"political candidate visiting towns", :category=>"general"}]
      💾 Using cached images for segment 123
      ✅ Generated 1 images
    📝 Processing segment: 124
    📝 Processing segment: 124
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator's engaged audience reaction", :category=>"famous_person"}, {:query=>"close-up of cheering crowd faces", :category=>"stock_image"}, {:query=>"audience applause at political event", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Senator's engaged audience reaction", :category=>"famous_person"}, {:query=>"close-up of cheering crowd faces", :category=>"stock_image"}, {:query=>"audience applause at political event", :category=>"stock_image"}]
      💾 Using cached images for segment 124
      ✅ Generated 1 images
    📝 Processing segment: 125
    📝 Processing segment: 125
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"President Trump speaking at podium", :category=>"famous_person"}, {:query=>"White House press briefing room", :category=>"stock_image"}, {:query=>"breaking news graphic television", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"President Trump speaking at podium", :category=>"famous_person"}, {:query=>"White House press briefing room", :category=>"stock_image"}, {:query=>"breaking news graphic television", :category=>"stock_image"}]
      💾 Using cached images for segment 125
      ✅ Generated 1 images
    📝 Processing segment: 126
    📝 Processing segment: 126
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Federal Trade Commission building exterior", :category=>"stock_image"}, {:query=>"government building facade", :category=>"stock_image"}, {:query=>"FTC logo close-up", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Federal Trade Commission building exterior", :category=>"stock_image"}, {:query=>"government building facade", :category=>"stock_image"}, {:query=>"FTC logo close-up", :category=>"general"}]
      💾 Using cached images for segment 126
      ✅ Generated 1 images
    📝 Processing segment: 127
    📝 Processing segment: 127
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"US Senate chamber interior", :category=>"stock_image"}, {:query=>"political debate in Congress", :category=>"stock_image"}, {:query=>"senator questioning during hearing", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"US Senate chamber interior", :category=>"stock_image"}, {:query=>"political debate in Congress", :category=>"stock_image"}, {:query=>"senator questioning during hearing", :category=>"famous_person"}]
      💾 Using cached images for segment 127
      ✅ Generated 1 images
    📝 Processing segment: 128
    📝 Processing segment: 128
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Presidential seal graphic", :category=>"stock_image"}, {:query=>"US government organizational chart", :category=>"stock_image"}, {:query=>"political party symbols", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Presidential seal graphic", :category=>"stock_image"}, {:query=>"US government organizational chart", :category=>"stock_image"}, {:query=>"political party symbols", :category=>"general"}]
      💾 Using cached images for segment 128
      ✅ Generated 1 images
    📝 Processing segment: 129
    📝 Processing segment: 129
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator expressing concern", :category=>"famous_person"}, {:query=>"question mark graphic over government building", :category=>"stock_image"}, {:query=>"legal scales of justice", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Senator expressing concern", :category=>"famous_person"}, {:query=>"question mark graphic over government building", :category=>"stock_image"}, {:query=>"legal scales of justice", :category=>"stock_image"}]
      💾 Using cached images for segment 129
      ✅ Generated 1 images
    📝 Processing segment: 130
    📝 Processing segment: 130
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"man defying rule of law", :category=>"stock_image"}, {:query=>"person tearing constitution document", :category=>"stock_image"}, {:query=>"abstract concept of lawlessness", :category=>"general"}]
      Debug - final image_queries: [{:query=>"man defying rule of law", :category=>"stock_image"}, {:query=>"person tearing constitution document", :category=>"stock_image"}, {:query=>"abstract concept of lawlessness", :category=>"general"}]
      💾 Using cached images for segment 130
      ✅ Generated 1 images
    📝 Processing segment: 131
    📝 Processing segment: 131
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"person wielding unchecked power", :category=>"stock_image"}, {:query=>"shadowy figure exercising authority", :category=>"stock_image"}, {:query=>"metaphor for absolute power", :category=>"general"}]
      Debug - final image_queries: [{:query=>"person wielding unchecked power", :category=>"stock_image"}, {:query=>"shadowy figure exercising authority", :category=>"stock_image"}, {:query=>"metaphor for absolute power", :category=>"general"}]
      💾 Using cached images for segment 131
      ✅ Generated 1 images
    📝 Processing segment: 132
    📝 Processing segment: 132
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"crowd of diverse Americans standing", :category=>"stock_image"}, {:query=>"people raising hands in protest", :category=>"stock_image"}, {:query=>"American flag waving defiantly", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"crowd of diverse Americans standing", :category=>"stock_image"}, {:query=>"people raising hands in protest", :category=>"stock_image"}, {:query=>"American flag waving defiantly", :category=>"stock_image"}]
      💾 Using cached images for segment 132
      ✅ Generated 1 images
    📝 Processing segment: 133
    📝 Processing segment: 133
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Senator Bernie Sanders speaking", :category=>"famous_person"}, {:query=>"Bernie Sanders close-up portrait", :category=>"famous_person"}, {:query=>"Bernie Sanders in discussion", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"Senator Bernie Sanders speaking", :category=>"famous_person"}, {:query=>"Bernie Sanders close-up portrait", :category=>"famous_person"}, {:query=>"Bernie Sanders in discussion", :category=>"famous_person"}]
      💾 Using cached images for segment 133
      ✅ Generated 1 images
    📝 Processing segment: 134
    📝 Processing segment: 134
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"CNN studio interview setting", :category=>"stock_image"}, {:query=>"person on video call", :category=>"stock_image"}, {:query=>"news broadcast graphic", :category=>"general"}]
      Debug - final image_queries: [{:query=>"CNN studio interview setting", :category=>"stock_image"}, {:query=>"person on video call", :category=>"stock_image"}, {:query=>"news broadcast graphic", :category=>"general"}]
      💾 Using cached images for segment 134
      ✅ Generated 1 images
  ✅ Image generation complete: 135 images found

📋 Step 4: Creating project manifest with all data...
  📋 Creating project manifest...
📤 Uploading project manifest: b2
✅ Project manifest uploaded: s3://burns-videos/projects/b2/manifest.json
  ✅ Manifest created successfully

🎥 Step 5: Generating final Ken Burns video...
  🎥 Generating final video using AWS Lambda for parallel processing...
📥 Getting project manifest: b2
✅ Project manifest retrieved: s3://burns-videos/projects/b2/manifest.json
    🧪 Testing mode: limiting to first 10 segments
    📝 Processing 10 segments concurrently...
🚀 Generating video segments concurrently for project: b2
  📝 Segments: 10
  ⚡ Concurrency: 10 (conservative to prevent Lambda /tmp issues)
    Debug - Segment 0: id=0, start_time=0, end_time=4.04
    Debug - Segment 1: id=1, start_time=4.42, end_time=9.26
    Debug - Segment 2: id=2, start_time=9.32, end_time=14.88
    Debug - Segment 3: id=3, start_time=16.96, end_time=22.5
    Debug - Segment 4: id=4, start_time=22.5, end_time=37.1
    Debug - Segment 5: id=5, start_time=37.46, end_time=41.84
    Debug - Segment 6: id=6, start_time=42.44, end_time=45.4
    Debug - Segment 7: id=7, start_time=45.46, end_time=50.72
    Debug - Segment 8: id=8, start_time=50.72, end_time=58.84
    Debug - Segment 9: id=9, start_time=59.18, end_time=60.88
  📹 Processing segment 0 (1/10) - Duration: 4.04s
    Debug - Payload: project_id=b2, segment_id=0, segment_index=0, images=Array, duration=4.04, start_time=0.0, end_time=4.04
  📹 Processing segment 2 (3/10) - Duration: 5.56s
    Debug - Payload: project_id=b2, segment_id=2, segment_index=2, images=Array, duration=5.5600000000000005, start_time=9.32, end_time=14.88
  📹 Processing segment 3 (4/10) - Duration: 5.54s
    Debug - Payload: project_id=b2, segment_id=3, segment_index=3, images=Array, duration=5.539999999999999, start_time=16.96, end_time=22.5
  📹 Processing segment 4 (5/10) - Duration: 14.6s
    Debug - Payload: project_id=b2, segment_id=4, segment_index=4, images=Array, duration=14.600000000000001, start_time=22.5, end_time=37.1
  📹 Processing segment 5 (6/10) - Duration: 4.38s
    Debug - Payload: project_id=b2, segment_id=5, segment_index=5, images=Array, duration=4.380000000000003, start_time=37.46, end_time=41.84
  📹 Processing segment 6 (7/10) - Duration: 2.96s
    Debug - Payload: project_id=b2, segment_id=6, segment_index=6, images=Array, duration=2.960000000000001, start_time=42.44, end_time=45.4
  📹 Processing segment 7 (8/10) - Duration: 5.26s
    Debug - Payload: project_id=b2, segment_id=7, segment_index=7, images=Array, duration=5.259999999999998, start_time=45.46, end_time=50.72
  📹 Processing segment 8 (9/10) - Duration: 8.12s
  📹 Processing segment 9 (10/10) - Duration: 1.7s
    Debug - Payload: project_id=b2, segment_id=9, segment_index=9, images=Array, duration=1.7000000000000028, start_time=59.18, end_time=60.88
  ⏳ Waiting for 10 segments to complete...
  📹 Processing segment 1 (2/10) - Duration: 4.84s
    Debug - Payload: project_id=b2, segment_id=1, segment_index=1, images=Array, duration=4.84, start_time=4.42, end_time=9.26
    Debug - Payload: project_id=b2, segment_id=8, segment_index=8, images=Array, duration=8.120000000000005, start_time=50.72, end_time=58.84
    💾 Segment 0 cached (0.106s saved)
    💾 Segment 5 cached (0.3s saved)
    💾 Segment 4 cached (0.308s saved)
    💾 Segment 3 cached (0.31s saved)
    💾 Segment 1 cached (0.315s saved)
    ⚡ Invoking Lambda for segment 2 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    💾 Segment 9 cached (0.311s saved)
    💾 Segment 6 cached (0.314s saved)
    💾 Segment 8 cached (0.314s saved)
    💾 Segment 7 cached (0.323s saved)
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to download any images: write /tmp/segment_2_image_0.jpg: no space left on device
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 2 failed in 18.26s: Lambda function error: failed to download any images: write /tmp/segment_2_image_0.jpg: no space left on device
  📊 PERFORMANCE SUMMARY:
    ⏱️  Total time: 18.27s
    ✅ Successful: 9/10
    💾 Cached: 9/10 (90.0%)
    📈 Avg processing time: 2.09s
    📈 Max processing time: 18.26s
❌ 1 segments failed to process
  ❌ Segment : Lambda function error: failed to download any images: write /tmp/segment_2_image_0.jpg: no space left on device

============================================================
❌ VIDEO GENERATION FAILED
============================================================
Error: Step 5 failed - Video generation: Lambda video generation failed: Some segments failed to process

🔧 Troubleshooting tips:
  • Check your API keys are properly configured
  • Ensure AWS services are accessible
  • Verify the audio file is in a supported format
  • Check network connectivity
  • Try running with test_mode: true for debugging
============================================================
