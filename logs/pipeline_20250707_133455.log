
=== Pipeline started at: 2025-07-07T13:34:55-07:00 ===
ğŸ¬ Burns - Audio to Ken Burns Video Pipeline
============================================================
ğŸ” Checking for existing video in S3...
ğŸ†• No existing video found in S3, generating new video...
âœ… Found audio file: fireship_test.mp3
ğŸ“Š File size: 0.68 MB

ğŸš€ Initializing video generator...
ğŸ¬ Local Video Service initialized
  ğŸ“ Temp directory: /var/folders/h6/gt987qh93hs085p28xhy8z840000gn/T/d20250707-49687-umnw9u
  ğŸ¥ FFmpeg path: ffmpeg

âš™ï¸  Generation options:
  ğŸ“ Resolution: 1080p
  ğŸ¬ FPS: 24
  ğŸ­ Ken Burns Effect: true
  ğŸ”„ Smooth Transitions: true
  â±ï¸  Image Duration: 4.0s
  ğŸŒŠ Transition Duration: 1.0s
  ğŸ” Zoom Factor: 1.4x
  ğŸ“¹ Pan Speed: 0.3
  ğŸ’¾ Image Caching: true
  ğŸ’¾ Transcription Caching: true
  ğŸ’¾ Analysis Caching: true
  ğŸ”„ Force Refresh: false

============================================================
ğŸ¬ STARTING KEN BURNS VIDEO GENERATION
============================================================

ğŸ“ Step 1: Processing audio and transcription...
ğŸµ Transcribing audio content...
â±ï¸  Step 1 started at: 13:34:57
ğŸ¬ Starting Ken Burns video generation
  ğŸ“ Audio file: fireship_test.mp3
  ğŸ†” Project ID: fireship_test
  âš™ï¸  Options: {:resolution=>"1080p", :fps=>24, :test_mode=>false, :ken_burns_effect=>true, :smooth_transitions=>true, :image_duration=>4.0, :transition_duration=>1.0, :zoom_factor=>1.4, :pan_speed=>0.3, :cache_images=>true, :cache_transcription=>true, :cache_analysis=>true, :force=>false}

ğŸ“ Step 1: Transcribing audio to get text segments...
  ğŸ¤ Processing audio with Whisper...
  ğŸµ Processing audio file...
    ğŸ¤ Processing audio with AudioProcessor...
ğŸ¤ Processing audio file: fireship_test.mp3
    ğŸ’¾ Caching transcription to: cache/fireship_test.json
âœ… Transcription completed: 13 segments
ğŸ“Š Total duration: 60 seconds
ğŸ“ Total words: 239
ğŸ“¤ Uploading audio file: fireship_test.mp3
âœ… Audio file uploaded: s3://burns-videos/projects/fireship_test/audio/fireship_test.mp3
  âœ… Transcription complete: 13 segments

ğŸ¨ Step 2: Analyzing text content to generate image queries...
  ğŸ§  Analyzing content with Gemini to generate image queries...
  ğŸ¨ Analyzing content for image generation...
ğŸ¨ Analyzing content for image generation...
ğŸ§  Analyzing content for image generation using Gemini...
  ğŸ“ Analyzing 13 segments in batches of 10...
    ğŸ”„ Processing batch 1/2 (10 segments)
    ğŸ”„ Processing batch 2/2 (3 segments)
    ğŸ’¾ Caching content analysis to: cache/gemini_analysis_8fd7a2cb2f67cb83996885eb351dec0b.json
âœ… Content analysis completed: 13 segments processed
âœ… Content analysis completed:
  ğŸ“Š Total segments: 13
  ğŸ–¼ï¸  Segments with images: 13
  ğŸ” Total image queries: 39
  ğŸ“ˆ Average confidence: -0.06
  âœ… Analysis complete: 39 image queries generated

ğŸ–¼ï¸  Step 3: Generating images using the queries...
  ğŸ” Searching for images using image service providers...
  ğŸ–¼ï¸  Generating images for segments...
    ğŸ“ Processing segment: 0
    ğŸ“ Processing segment: 0
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Silicon Valley skyline at night", :category=>"stock_image"}, {:query=>"Empty office buildings Silicon Valley", :category=>"stock_image"}, {:query=>"Man standing alone in city", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Silicon Valley skyline at night", :category=>"stock_image"}, {:query=>"Empty office buildings Silicon Valley", :category=>"stock_image"}, {:query=>"Man standing alone in city", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Silicon Valley skyline at night' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Silicon Valley skyline at night' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/24605372/pexels-photo-24605372.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 1
    ğŸ“ Processing segment: 1
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Soham Parekh headshot professional", :category=>"famous_person"}, {:query=>"Man's name appearing on screen", :category=>"general"}, {:query=>"Close-up of a person's face", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Soham Parekh headshot professional", :category=>"famous_person"}, {:query=>"Man's name appearing on screen", :category=>"general"}, {:query=>"Close-up of a person's face", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Soham Parekh headshot professional' (category: famous_person)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Soham Parekh headshot professional' (category: famous_person)
    ğŸ‘¤ Famous person detected - prioritizing Wikimedia
    ğŸ” ImageServiceBus: Attempting wikimedia (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from wikimedia
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 2/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 3/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/32845660/pexels-photo-32845660.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 2
    ğŸ“ Processing segment: 2
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Startup founder looking stressed", :category=>"stock_image"}, {:query=>"Burning money concept visual", :category=>"stock_image"}, {:query=>"AI brain graphic with money", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Startup founder looking stressed", :category=>"stock_image"}, {:query=>"Burning money concept visual", :category=>"stock_image"}, {:query=>"AI brain graphic with money", :category=>"general"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Startup founder looking stressed' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Startup founder looking stressed' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/6930557/pexels-photo-6930557.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 3
    ğŸ“ Processing segment: 3
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Engineers working on computers", :category=>"stock_image"}, {:query=>"Team of developers coding", :category=>"stock_image"}, {:query=>"Man typing rapidly on keyboard", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Engineers working on computers", :category=>"stock_image"}, {:query=>"Team of developers coding", :category=>"stock_image"}, {:query=>"Man typing rapidly on keyboard", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Engineers working on computers' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Engineers working on computers' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/3184306/pexels-photo-3184306.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 4
    ğŸ“ Processing segment: 4
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Soham Parekh in interview setting", :category=>"famous_person"}, {:query=>"Person being interviewed in office", :category=>"stock_image"}, {:query=>"Close-up of a confident smile", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Soham Parekh in interview setting", :category=>"famous_person"}, {:query=>"Person being interviewed in office", :category=>"stock_image"}, {:query=>"Close-up of a confident smile", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Soham Parekh in interview setting' (category: famous_person)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Soham Parekh in interview setting' (category: famous_person)
    ğŸ‘¤ Famous person detected - prioritizing Wikimedia
    ğŸ” ImageServiceBus: Attempting wikimedia (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from wikimedia
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 2/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 3/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/6919954/pexels-photo-6919954.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 5
    ğŸ“ Processing segment: 5
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Soham Parekh working at desk", :category=>"famous_person"}, {:query=>"Employee working in modern office", :category=>"stock_image"}, {:query=>"Person typing on laptop intensely", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Soham Parekh working at desk", :category=>"famous_person"}, {:query=>"Employee working in modern office", :category=>"stock_image"}, {:query=>"Person typing on laptop intensely", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Soham Parekh working at desk' (category: famous_person)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Soham Parekh working at desk' (category: famous_person)
    ğŸ‘¤ Famous person detected - prioritizing Wikimedia
    ğŸ” ImageServiceBus: Attempting wikimedia (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from wikimedia
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 2/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 3/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/32888835/pexels-photo-32888835.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 6
    ğŸ“ Processing segment: 6
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Computer science interview questions", :category=>"general"}, {:query=>"Man mastering a skill", :category=>"stock_image"}, {:query=>"Abstract representation of crushing", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Computer science interview questions", :category=>"general"}, {:query=>"Man mastering a skill", :category=>"stock_image"}, {:query=>"Abstract representation of crushing", :category=>"general"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Computer science interview questions' (category: general)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Computer science interview questions' (category: general)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/18069696/pexels-photo-18069696.png?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 7
    ğŸ“ Processing segment: 7
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Multiple job offer letters", :category=>"stock_image"}, {:query=>"Person receiving many emails", :category=>"stock_image"}, {:query=>"Stack of employment contracts", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Multiple job offer letters", :category=>"stock_image"}, {:query=>"Person receiving many emails", :category=>"stock_image"}, {:query=>"Stack of employment contracts", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Multiple job offer letters' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Multiple job offer letters' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/7129713/pexels-photo-7129713.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 8
    ğŸ“ Processing segment: 8
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Developer working remotely", :category=>"stock_image"}, {:query=>"Multiple screens showing code", :category=>"stock_image"}, {:query=>"Man juggling multiple tasks", :category=>"stock_image"}]
      Debug - final image_queries: [{:query=>"Developer working remotely", :category=>"stock_image"}, {:query=>"Multiple screens showing code", :category=>"stock_image"}, {:query=>"Man juggling multiple tasks", :category=>"stock_image"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Developer working remotely' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Developer working remotely' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/5244025/pexels-photo-5244025.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 9
    ğŸ“ Processing segment: 9
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"Internet breaking visual effect", :category=>"general"}, {:query=>"Network cables tangled", :category=>"stock_image"}, {:query=>"Abstract representation of overload", :category=>"general"}]
      Debug - final image_queries: [{:query=>"Internet breaking visual effect", :category=>"general"}, {:query=>"Network cables tangled", :category=>"stock_image"}, {:query=>"Abstract representation of overload", :category=>"general"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'Internet breaking visual effect' (category: general)
    ğŸ” ImageServiceBus: Getting 3 images for query 'Internet breaking visual effect' (category: general)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/5380664/pexels-photo-5380664.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 10
    ğŸ“ Processing segment: 10
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"July 7th 2025 calendar page", :category=>"stock_image"}, {:query=>"modern news studio desk", :category=>"stock_image"}, {:query=>"tech news anchor close-up", :category=>"famous_person"}]
      Debug - final image_queries: [{:query=>"July 7th 2025 calendar page", :category=>"stock_image"}, {:query=>"modern news studio desk", :category=>"stock_image"}, {:query=>"tech news anchor close-up", :category=>"famous_person"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'July 7th 2025 calendar page' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'July 7th 2025 calendar page' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/7059621/pexels-photo-7059621.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 11
    ğŸ“ Processing segment: 11
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"abstract representation of job market", :category=>"stock_image"}, {:query=>"graph showing volatile stock market", :category=>"stock_image"}, {:query=>"stylized illustration of feast famine", :category=>"general"}]
      Debug - final image_queries: [{:query=>"abstract representation of job market", :category=>"stock_image"}, {:query=>"graph showing volatile stock market", :category=>"stock_image"}, {:query=>"stylized illustration of feast famine", :category=>"general"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'abstract representation of job market' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'abstract representation of job market' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/6483579/pexels-photo-6483579.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
    ğŸ“ Processing segment: 12
    ğŸ“ Processing segment: 12
      Debug - segment keys: [:id, :start_time, :end_time, :text, :confidence, :no_speech_prob, :compression_ratio, :words, :image_queries, :backup_queries, :has_images]
      Debug - image_queries: [{:query=>"entry level job application form", :category=>"stock_image"}, {:query=>"sad young person job hunting", :category=>"stock_image"}, {:query=>"graphic of downward trending arrows", :category=>"general"}]
      Debug - final image_queries: [{:query=>"entry level job application form", :category=>"stock_image"}, {:query=>"sad young person job hunting", :category=>"stock_image"}, {:query=>"graphic of downward trending arrows", :category=>"general"}]
      Searching for ONE image with 5 query options
      Trying query 1/5: 'entry level job application form' (category: stock_image)
    ğŸ” ImageServiceBus: Getting 3 images for query 'entry level job application form' (category: stock_image)
    ğŸ” ImageServiceBus: Attempting unsplash (attempt 1/6)
    âš ï¸  ImageServiceBus: No results from unsplash
    ğŸ” ImageServiceBus: Attempting pexels (attempt 2/6)
    âœ… ImageServiceBus: Got 10 quality images from pexels
    ğŸ” ImageServiceBus: Returning 1 results
      âœ… Found quality image from pexels: https://images.pexels.com/photos/6473973/pexels-photo-6473973.jpeg?auto=compress&cs=tinysrgb&h=650&w=940
      âœ… Generated 1 images
  âœ… Image generation complete: 13 images found

ğŸ“‹ Step 4: Creating project manifest with all data...
  ğŸ“‹ Creating project manifest...
ğŸ“¤ Uploading project manifest: fireship_test
âœ… Project manifest uploaded: s3://burns-videos/projects/fireship_test/manifest.json
  âœ… Manifest created successfully

ğŸ¥ Step 5: Generating final Ken Burns video...
  ğŸ¥ Generating final video using AWS Lambda for parallel processing...
ğŸ“¥ Getting project manifest: fireship_test
âœ… Project manifest retrieved: s3://burns-videos/projects/fireship_test/manifest.json
    ğŸ“ Processing 13 segments concurrently...
ğŸš€ Generating video segments concurrently for project: fireship_test
  ğŸ“ Segments: 13
  âš¡ Concurrency: 13 (conservative to prevent Lambda /tmp issues)
    Debug - Segment 0: id=0, start_time=0, end_time=4.84
    Debug - Segment 1: id=1, start_time=5.04, end_time=9.8
    Debug - Segment 2: id=2, start_time=9.8, end_time=14.46
    Debug - Segment 3: id=3, start_time=14.62, end_time=19.44
    Debug - Segment 4: id=4, start_time=19.44, end_time=23.74
    Debug - Segment 5: id=5, start_time=23.74, end_time=27.6
    Debug - Segment 6: id=6, start_time=27.6, end_time=32.16
    Debug - Segment 7: id=7, start_time=32.16, end_time=36.76
    Debug - Segment 8: id=8, start_time=36.76, end_time=41.3
    Debug - Segment 9: id=9, start_time=41.3, end_time=45.96
    Debug - Segment 10: id=10, start_time=45.96, end_time=51.52
    Debug - Segment 11: id=11, start_time=51.52, end_time=56.08
    Debug - Segment 12: id=12, start_time=56.08, end_time=60
  ğŸ“¹ Processing segment 2 (3/13) - Duration: 4.66s
    Debug - Payload: project_id=fireship_test, segment_id=2, segment_index=2, images=Array, duration=4.66, start_time=9.8, end_time=14.46
  ğŸ“¹ Processing segment 3 (4/13) - Duration: 4.82s
    Debug - Payload: project_id=fireship_test, segment_id=3, segment_index=3, images=Array, duration=4.820000000000002, start_time=14.62, end_time=19.44
  ğŸ“¹ Processing segment 4 (5/13) - Duration: 4.3s
    Debug - Payload: project_id=fireship_test, segment_id=4, segment_index=4, images=Array, duration=4.299999999999997, start_time=19.44, end_time=23.74
  ğŸ“¹ Processing segment 5 (6/13) - Duration: 3.86s
    Debug - Payload: project_id=fireship_test, segment_id=5, segment_index=5, images=Array, duration=3.860000000000003, start_time=23.74, end_time=27.6
  ğŸ“¹ Processing segment 6 (7/13) - Duration: 4.56s
    Debug - Payload: project_id=fireship_test, segment_id=6, segment_index=6, images=Array, duration=4.559999999999995, start_time=27.6, end_time=32.16
  ğŸ“¹ Processing segment 7 (8/13) - Duration: 4.6s
    Debug - Payload: project_id=fireship_test, segment_id=7, segment_index=7, images=Array, duration=4.600000000000001, start_time=32.16, end_time=36.76
  ğŸ“¹ Processing segment 8 (9/13) - Duration: 4.54s
    Debug - Payload: project_id=fireship_test, segment_id=8, segment_index=8, images=Array, duration=4.539999999999999, start_time=36.76, end_time=41.3
  ğŸ“¹ Processing segment 9 (10/13) - Duration: 4.66s
  ğŸ“¹ Processing segment 10 (11/13) - Duration: 5.56s_id=9, segment_index=9, images=Array, duration=4.660000000000004, start_time=41.3, end_time=45.96
  ğŸ“¹ Processing segment 10 (11/13) - Duration: 5.56s
    Debug - Payload: project_id=fireship_test, segment_id=10, segment_index=10, images=Array, duration=5.560000000000002, start_time=45.96, end_time=51.52
  ğŸ“¹ Processing segment 12 (13/13) - Duration: 3.92s
    Debug - Payload: project_id=fireship_test, segment_id=12, segment_index=12, images=Array, duration=3.9200000000000017, start_time=56.08, end_time=60.0
  â³ Waiting for 13 segments to complete...
  ğŸ“¹ Processing segment 0 (1/13) - Duration: 4.84s
  ğŸ“¹ Processing segment 1 (2/13) - Duration: 4.76snt_id=0, segment_index=0, images=Array, duration=4.84, start_time=0.0, end_time=4.84
  ğŸ“¹ Processing segment 1 (2/13) - Duration: 4.76s
    Debug - Payload: project_id=fireship_test, segment_id=1, segment_index=1, images=Array, duration=4.760000000000001, start_time=5.04, end_time=9.8
  ğŸ“¹ Processing segment 11 (12/13) - Duration: 4.56s
    Debug - Payload: project_id=fireship_test, segment_id=11, segment_index=11, images=Array, duration=4.559999999999995, start_time=51.52, end_time=56.08
    âš¡ Invoking Lambda for segment 2 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 4 (1 images)...
    âš¡ Invoking Lambda for segment 3 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    âš¡ Invoking Lambda for segment 7 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 6 (1 images)...
    âš¡ Invoking Lambda for segment 5 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 8 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 12 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 0 (1 images)...
    âš¡ Invoking Lambda for segment 1 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    âš¡ Invoking Lambda for segment 11 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 10 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    âš¡ Invoking Lambda for segment 9 (1 images)...
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 5 completed in 21.69s (Lambda: 21.33s)
    ğŸ“ Segment file: segments/fireship_test/5_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 2 completed in 22.09s (Lambda: 22.0s)
    ğŸ“ Segment file: segments/fireship_test/2_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 7 completed in 22.65s (Lambda: 22.31s)
    ğŸ“ Segment file: segments/fireship_test/7_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 12 completed in 22.83s (Lambda: 22.44s)
    ğŸ“ Segment file: segments/fireship_test/12_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 9 completed in 23.63s (Lambda: 22.97s)
    ğŸ“ Segment file: segments/fireship_test/9_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 4 completed in 25.37s (Lambda: 25.03s)
    ğŸ“ Segment file: segments/fireship_test/4_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 11 completed in 26.03s (Lambda: 25.62s)
    ğŸ“ Segment file: segments/fireship_test/11_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 1 completed in 26.3s (Lambda: 25.89s)
    ğŸ“ Segment file: segments/fireship_test/1_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 8 completed in 26.86s (Lambda: 26.48s)
    ğŸ“ Segment file: segments/fireship_test/8_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 6 completed in 27.68s (Lambda: 27.32s)
    ğŸ“ Segment file: segments/fireship_test/6_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 10 completed in 27.83s (Lambda: 27.39s)
    ğŸ“ Segment file: segments/fireship_test/10_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 0 completed in 27.88s (Lambda: 27.47s)
    ğŸ“ Segment file: segments/fireship_test/0_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    âœ… Segment 3 completed in 29.67s (Lambda: 29.32s)
    ğŸ“ Segment file: segments/fireship_test/3_segment.mp4
  ğŸ“Š PERFORMANCE SUMMARY:
    â±ï¸  Total time: 29.67s
    âœ… Successful: 13/13
    ğŸ’¾ Cached: 0/13 (0.0%)
    ğŸ“ˆ Avg processing time: 25.42s
    ğŸ“ˆ Max processing time: 29.67s
    âš¡ Avg Lambda time: 25.04s
    âš¡ Max Lambda time: 29.32s
  ğŸ¬ Combining 13 segments into final video...
  ğŸ¬ Combining segments into final video...
  ğŸ”§ Payload for combination: project_id, segment_results, options
  ğŸ“Š Segment results count: 13
  ğŸ“¤ Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_results, options
    Debug - Payload values: String, Array, Hash
    âŒ Lambda invocation error: Net::ReadTimeout with #<TCPSocket:(closed)>
    âŒ Error class: Seahorse::Client::NetworkingError
âŒ Final video combination failed: Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
â±ï¸  Step 1 completed at: 13:39:54
â±ï¸  Step 1 runtime: 297.62 seconds

============================================================
âŒ VIDEO GENERATION FAILED
============================================================
Error: Step 5 failed - Video generation: Lambda video generation failed: Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>

ğŸ”§ Troubleshooting tips:
  â€¢ Check your API keys are properly configured
  â€¢ Ensure AWS services are accessible
  â€¢ Verify the audio file is in a supported format
  â€¢ Check network connectivity
  â€¢ Try running with test_mode: true for debugging
============================================================
