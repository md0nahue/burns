
=== Pipeline started at: 2025-07-07T17:58:52-07:00 ===
🎬 Burns - Audio to Ken Burns Video Pipeline
============================================================
🔍 Checking for existing video in S3...
🆕 No existing video found in S3, generating new video...
✅ Found audio file: vibe3.mp3
📊 File size: 3.08 MB

🚀 Initializing video generator...
🎬 Local Video Service initialized
  📁 Temp directory: /var/folders/h6/gt987qh93hs085p28xhy8z840000gn/T/d20250707-54968-ryhq11
  🎥 FFmpeg path: ffmpeg

⚙️  Generation options:
  📐 Resolution: 1080p
  🎬 FPS: 24
  🎭 Ken Burns Effect: true
  🔄 Smooth Transitions: true
  ⏱️  Image Duration: 4.0s
  🌊 Transition Duration: 1.0s
  🔍 Zoom Factor: 1.4x
  📹 Pan Speed: 0.3
  💾 Image Caching: true
  💾 Transcription Caching: true
  💾 Analysis Caching: true
  🔄 Force Refresh: false

============================================================
🎬 STARTING KEN BURNS VIDEO GENERATION
============================================================

📝 Step 1: Processing audio and transcription...
🎵 Transcribing audio content...
⏱️  Step 1 started at: 17:58:53
🎬 Starting Ken Burns video generation
  📁 Audio file: vibe3.mp3
  🆔 Project ID: vibe3
  ⚙️  Options: {:resolution=>"1080p", :fps=>24, :test_mode=>false, :ken_burns_effect=>true, :smooth_transitions=>true, :image_duration=>4.0, :transition_duration=>1.0, :zoom_factor=>1.4, :pan_speed=>0.3, :cache_images=>true, :cache_transcription=>true, :cache_analysis=>true, :force=>false}

📝 Step 1: Transcribing audio to get text segments...
  💾 Using cached transcription from S3
  ✅ Transcription complete: 57 segments

🎨 Step 2: Analyzing text content to generate image queries...
  💾 Using cached content analysis from S3
  ✅ Analysis complete: 171 image queries generated

🖼️  Step 3: Generating images using the queries...
  💾 Using cached image generation from S3
  ✅ Image generation complete: 57 images found

📋 Step 4: Creating project manifest with all data...
  📋 Creating project manifest...
📤 Uploading project manifest: vibe3
✅ Project manifest uploaded: s3://burns-videos/projects/vibe3/manifest.json
  ✅ Manifest created successfully

🎥 Step 5: Generating final Ken Burns video...
  🎥 Generating final video using AWS Lambda for parallel processing...
📥 Getting project manifest: vibe3
✅ Project manifest retrieved: s3://burns-videos/projects/vibe3/manifest.json
    📝 Processing 57 segments concurrently...
🚀 Generating video segments concurrently for project: vibe3
  📝 Segments: 57
  ⚡ Concurrency: 25 (conservative to prevent Lambda /tmp issues)
    Debug - Segment 0: id=0, start_time=0, end_time=5.56
    Debug - Segment 1: id=1, start_time=5.68, end_time=9.98
    Debug - Segment 2: id=2, start_time=9.98, end_time=15.22
    Debug - Segment 3: id=3, start_time=15.22, end_time=19.8
    Debug - Segment 4: id=4, start_time=19.8, end_time=24.52
    Debug - Segment 5: id=5, start_time=24.62, end_time=29.72
    Debug - Segment 6: id=6, start_time=29.72, end_time=33.7
    Debug - Segment 7: id=7, start_time=33.7, end_time=38.32
    Debug - Segment 8: id=8, start_time=38.32, end_time=43
    Debug - Segment 9: id=9, start_time=43, end_time=48
    Debug - Segment 10: id=10, start_time=48, end_time=52.52
    Debug - Segment 11: id=11, start_time=52.52, end_time=57.18
    Debug - Segment 12: id=12, start_time=57.18, end_time=59.98
    Debug - Segment 13: id=13, start_time=60.26, end_time=63.8
    Debug - Segment 14: id=14, start_time=63.94, end_time=80.014
    Debug - Segment 15: id=15, start_time=80.014, end_time=84.093994
    Debug - Segment 16: id=16, start_time=84.313995, end_time=89.054
    Debug - Segment 17: id=17, start_time=89.054, end_time=93.214
    Debug - Segment 18: id=18, start_time=93.214, end_time=97.294
    Debug - Segment 19: id=19, start_time=97.514, end_time=103.554
    Debug - Segment 20: id=20, start_time=103.794, end_time=107.654
    Debug - Segment 21: id=21, start_time=107.934, end_time=108.254
    Debug - Segment 22: id=22, start_time=108.37399, end_time=114.694
    Debug - Segment 23: id=23, start_time=114.993996, end_time=117.274
    Debug - Segment 24: id=24, start_time=117.414, end_time=121.774
    Debug - Segment 25: id=25, start_time=121.774, end_time=125.953995
    Debug - Segment 26: id=26, start_time=125.953995, end_time=130.71399
    Debug - Segment 27: id=27, start_time=130.71399, end_time=136.314
    Debug - Segment 28: id=28, start_time=136.314, end_time=149.588
    Debug - Segment 29: id=29, start_time=149.68799, end_time=156.388
    Debug - Segment 30: id=30, start_time=156.708, end_time=161.62799
    Debug - Segment 31: id=31, start_time=161.808, end_time=167.668
    Debug - Segment 32: id=32, start_time=167.668, end_time=172.588
    Debug - Segment 33: id=33, start_time=172.728, end_time=177.12799
    Debug - Segment 34: id=34, start_time=177.228, end_time=180.508
    Debug - Segment 35: id=35, start_time=180.808, end_time=185.368
    Debug - Segment 36: id=36, start_time=185.46799, end_time=188.948
    Debug - Segment 37: id=37, start_time=189.008, end_time=191.48799
    Debug - Segment 38: id=38, start_time=191.48799, end_time=197.568
    Debug - Segment 39: id=39, start_time=197.668, end_time=200.108
    Debug - Segment 40: id=40, start_time=200.108, end_time=204.46799
    Debug - Segment 41: id=41, start_time=204.46799, end_time=208.708
    Debug - Segment 42: id=42, start_time=208.708, end_time=222.90201
    Debug - Segment 43: id=43, start_time=223.002, end_time=227.702
    Debug - Segment 44: id=44, start_time=227.702, end_time=231.622
    Debug - Segment 45: id=45, start_time=231.622, end_time=235.202
    Debug - Segment 46: id=46, start_time=235.242, end_time=239.082
    Debug - Segment 47: id=47, start_time=239.082, end_time=244.142
    Debug - Segment 48: id=48, start_time=244.142, end_time=249.40201
    Debug - Segment 49: id=49, start_time=249.40201, end_time=253.62201
    Debug - Segment 50: id=50, start_time=253.862, end_time=258.022
    Debug - Segment 51: id=51, start_time=258.022, end_time=262.642
    Debug - Segment 52: id=52, start_time=262.642, end_time=267.422
    Debug - Segment 53: id=53, start_time=267.422, end_time=271.342
    Debug - Segment 54: id=54, start_time=271.342, end_time=275.962
    Debug - Segment 55: id=55, start_time=275.962, end_time=280.162
    Debug - Segment 56: id=56, start_time=280.162, end_time=285.322
  📹 Processing segment 0 (1/57) - Duration: 5.56s
    Debug - Payload: project_id=vibe3, segment_id=0, segment_index=0, images=Array, duration=5.56, start_time=0.0, end_time=5.56
  📹 Processing segment 1 (2/57) - Duration: 4.3s
    Debug - Payload: project_id=vibe3, segment_id=1, segment_index=1, images=Array, duration=4.300000000000001, start_time=5.68, end_time=9.98
  📹 Processing segment 2 (3/57) - Duration: 5.24s
    Debug - Payload: project_id=vibe3, segment_id=2, segment_index=2, images=Array, duration=5.24, start_time=9.98, end_time=15.22
  📹 Processing segment 3 (4/57) - Duration: 4.58s
    Debug - Payload: project_id=vibe3, segment_id=3, segment_index=3, images=Array, duration=4.58, start_time=15.22, end_time=19.8
  📹 Processing segment 4 (5/57) - Duration: 4.72s
    Debug - Payload: project_id=vibe3, segment_id=4, segment_index=4, images=Array, duration=4.719999999999999, start_time=19.8, end_time=24.52
  📹 Processing segment 5 (6/57) - Duration: 5.1s
    Debug - Payload: project_id=vibe3, segment_id=5, segment_index=5, images=Array, duration=5.099999999999998, start_time=24.62, end_time=29.72
  📹 Processing segment 6 (7/57) - Duration: 3.98s
    Debug - Payload: project_id=vibe3, segment_id=6, segment_index=6, images=Array, duration=3.980000000000004, start_time=29.72, end_time=33.7
  📹 Processing segment 7 (8/57) - Duration: 4.62s
    Debug - Payload: project_id=vibe3, segment_id=7, segment_index=7, images=Array, duration=4.619999999999997, start_time=33.7, end_time=38.32
  📹 Processing segment 9 (10/57) - Duration: 5.0s
    Debug - Payload: project_id=vibe3, segment_id=9, segment_index=9, images=Array, duration=5.0, start_time=43.0, end_time=48.0
  📹 Processing segment 10 (11/57) - Duration: 4.52s
    Debug - Payload: project_id=vibe3, segment_id=10, segment_index=10, images=Array, duration=4.520000000000003, start_time=48.0, end_time=52.52
  📹 Processing segment 11 (12/57) - Duration: 4.66s
    Debug - Payload: project_id=vibe3, segment_id=11, segment_index=11, images=Array, duration=4.659999999999997, start_time=52.52, end_time=57.18on=4.659999999999997, start_time=52.52, end_time=57.18  📹 Processing segment 13 (14/57) - Duration: 3.54s
    Debug - Payload: project_id=vibe3, segment_id=13, segment_index=13, images=Array, duration=3.539999999999999, start_time=60.26, end_time=63.8
  📹 Processing segment 14 (15/57) - Duration: 16.07s
    Debug - Payload: project_id=vibe3, segment_id=14, segment_index=14, images=Array, duration=16.073999999999998, start_time=63.94, end_time=80.014
  📹 Processing segment 20 (21/57) - Duration: 3.86s
    Debug - Payload: project_id=vibe3, segment_id=20, segment_index=20, images=Array, duration=3.8599999999999994, start_time=103.794, end_time=107.654
  📹 Processing segment 22 (23/57) - Duration: 6.32s
    Debug - Payload: project_id=vibe3, segment_id=22, segment_index=22, images=Array, duration=6.320009999999996, start_time=108.37399, end_time=114.694

  ⏳ Waiting for 57 segments to complete...
  📹 Processing segment 16 (17/57) - Duration: 4.74s
  📹 Processing segment 17 (18/57) - Duration: 4.16ssegment_index=16, images=Array, duration=4.7400049999999965, start_time=84.313995, end_time=89.054
  📹 Processing segment 18 (19/57) - Duration: 4.08s
    Debug - Payload: project_id=vibe3, segment_id=18, segment_index=18, images=Array, duration=4.079999999999998, start_time=93.214, end_time=97.294
  📹 Processing segment 19 (20/57) - Duration: 6.04s
    Debug - Payload: project_id=vibe3, segment_id=19, segment_index=19, images=Array, duration=6.040000000000006, start_time=97.514, end_time=103.554
  📹 Processing segment 21 (22/57) - Duration: 0.32s
    Debug - Payload: project_id=vibe3, segment_id=21, segment_index=21, images=Array, duration=0.3200000000000074, start_time=107.934, end_time=108.254
  📹 Processing segment 23 (24/57) - Duration: 2.28s
    Debug - Payload: project_id=vibe3, segment_id=23, segment_index=23, images=Array, duration=2.2800040000000052, start_time=114.993996, end_time=117.274
  📹 Processing segment 24 (25/57) - Duration: 4.36s
    Debug - Payload: project_id=vibe3, segment_id=24, segment_index=24, images=Array, duration=4.359999999999999, start_time=117.414, end_time=121.774
  📹 Processing segment 8 (9/57) - Duration: 4.68s
    Debug - Payload: project_id=vibe3, segment_id=8, segment_index=8, images=Array, duration=4.68, start_time=38.32, end_time=43.0
    Debug - Payload: project_id=vibe3, segment_id=12, segment_index=12, images=Array, duration=2.799999999999997, start_time=57.18, end_time=59.98
  📹 Processing segment 15 (16/57) - Duration: 4.08s
  📹 Processing segment 17 (18/57) - Duration: 4.16ssegment_index=15, images=Array, duration=4.079993999999999, start_time=80.014, end_time=84.093994
  📹 Processing segment 17 (18/57) - Duration: 4.16s
    Debug - Payload: project_id=vibe3, segment_id=17, segment_index=17, images=Array, duration=4.159999999999997, start_time=89.054, end_time=93.214
    ⚡ Invoking Lambda for segment 0 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 13 (1 images)...
    ⚡ Invoking Lambda for segment 15 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 9 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 8 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    💾 Segment 7 cached (0.355s saved)
  📹 Processing segment 25 (26/57) - Duration: 4.18s
    Debug - Payload: project_id=vibe3, segment_id=25, segment_index=25, images=Array, duration=4.179995000000005, start_time=121.774, end_time=125.953995
    💾 Segment 2 cached (0.37s saved)
  📹 Processing segment 26 (27/57) - Duration: 4.76s
    Debug - Payload: project_id=vibe3, segment_id=26, segment_index=26, images=Array, duration=4.759994999999989, start_time=125.953995, end_time=130.71399
    ⚡ Invoking Lambda for segment 14 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 5 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    💾 Segment 3 cached (0.372s saved)
    ⚡ Invoking Lambda for segment 11 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    💾 Segment 24 cached (0.36s saved)
  📹 Processing segment 27 (28/57) - Duration: 5.6s
    Debug - Payload: project_id=vibe3, segment_id=27, segment_index=27, images=Array, duration=5.6000099999999975, start_time=130.71399, end_time=136.314
    💾 Segment 10 cached (0.363s saved)
  📹 Processing segment 28 (29/57) - Duration: 13.27s
    Debug - Payload: project_id=vibe3, segment_id=28, segment_index=28, images=Array, duration=13.274000000000001, start_time=136.314, end_time=149.588
    💾 Segment 20 cached (0.363s saved)
  📹 Processing segment 29 (30/57) - Duration: 6.7s
    Debug - Payload: project_id=vibe3, segment_id=29, segment_index=29, images=Array, duration=6.700009999999992, start_time=149.68799, end_time=156.388
    💾 Segment 17 cached (0.364s saved)
  📹 Processing segment 30 (31/57) - Duration: 4.92s
    💾 Segment 19 cached (0.365s saved)
  📹 Processing segment 31 (32/57) - Duration: 5.86s
    Debug - Payload: project_id=vibe3, segment_id=31, segment_index=31, images=Array, duration=5.860000000000014, start_time=161.808, end_time=167.668
    💾 Segment 22 cached (0.366s saved)
  📹 Processing segment 32 (33/57) - Duration: 4.92s
    Debug - Payload: project_id=vibe3, segment_id=32, segment_index=32, images=Array, duration=4.9199999999999875, start_time=167.668, end_time=172.588
  📹 Processing segment 33 (34/57) - Duration: 4.4s
    💾 Segment 1 cached (0.385s saved)
    💾 Segment 18 cached (0.367s saved)
    💾 Segment 23 cached (0.367s saved)
  📹 Processing segment 36 (37/57) - Duration: 3.48s
    Debug - Payload: project_id=vibe3, segment_id=36, segment_index=36, images=Array, duration=3.4800100000000214, start_time=185.46799, end_time=188.948
    💾 Segment 4 cached (0.38s saved)
  📹 Processing segment 37 (38/57) - Duration: 2.48s
    Debug - Payload: project_id=vibe3, segment_id=37, segment_index=37, images=Array, duration=2.4799899999999866, start_time=189.008, end_time=191.48799
    💾 Segment 16 cached (0.37s saved)
    Debug - Payload: project_id=vibe3, segment_id=30, segment_index=30, images=Array, duration=4.919990000000013, start_time=156.708, end_time=161.62799
    Debug - Payload: project_id=vibe3, segment_id=33, segment_index=33, images=Array, duration=4.3999900000000025, start_time=172.728, end_time=177.12799
  📹 Processing segment 34 (35/57) - Duration: 3.28s
    Debug - Payload: project_id=vibe3, segment_id=34, segment_index=34, images=Array, duration=3.280000000000001, start_time=177.228, end_time=180.508
  📹 Processing segment 35 (36/57) - Duration: 4.56s
    Debug - Payload: project_id=vibe3, segment_id=35, segment_index=35, images=Array, duration=4.560000000000002, start_time=180.808, end_time=185.368
    💾 Segment 21 cached (0.373s saved)
  📹 Processing segment 38 (39/57) - Duration: 6.08s
    Debug - Payload: project_id=vibe3, segment_id=38, segment_index=38, images=Array, duration=6.080010000000016, start_time=191.48799, end_time=197.568
    💾 Segment 6 cached (0.38s saved)
  📹 Processing segment 39 (40/57) - Duration: 2.44s
    Debug - Payload: project_id=vibe3, segment_id=39, segment_index=39, images=Array, duration=2.4399999999999977, start_time=197.668, end_time=200.108
    💾 Segment 12 cached (0.375s saved)
  📹 Processing segment 40 (41/57) - Duration: 4.36s
    Debug - Payload: project_id=vibe3, segment_id=40, segment_index=40, images=Array, duration=4.359989999999982, start_time=200.108, end_time=204.46799
  📹 Processing segment 41 (42/57) - Duration: 4.24s
    Debug - Payload: project_id=vibe3, segment_id=41, segment_index=41, images=Array, duration=4.240010000000012, start_time=204.46799, end_time=208.708
    💾 Segment 25 cached (0.102s saved)
  📹 Processing segment 42 (43/57) - Duration: 14.19s
    💾 Segment 27 cached (0.095s saved)
  📹 Processing segment 43 (44/57) - Duration: 4.7s
    Debug - Payload: project_id=vibe3, segment_id=43, segment_index=43, images=Array, duration=4.699999999999989, start_time=223.002, end_time=227.702
    Debug - Payload: project_id=vibe3, segment_id=42, segment_index=42, images=Array, duration=14.194009999999992, start_time=208.708, end_time=222.90201
    ⚡ Invoking Lambda for segment 29 (1 images)...
    ⚡ Invoking Lambda for segment 28 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    ⚡ Invoking Lambda for segment 36 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    💾 Segment 26 cached (0.107s saved)
  📹 Processing segment 44 (45/57) - Duration: 3.92s
    Debug - Payload: project_id=vibe3, segment_id=44, segment_index=44, images=Array, duration=3.920000000000016, start_time=227.702, end_time=231.622
    💾 Segment 37 cached (0.097s saved)
  📹 Processing segment 45 (46/57) - Duration: 3.58s
    Debug - Payload: project_id=vibe3, segment_id=45, segment_index=45, images=Array, duration=3.579999999999984, start_time=231.622, end_time=235.202
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 31 (1 images)...
    💾 Segment 32 cached (0.1s saved)rns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    💾 Segment 32 cached (0.1s saved)
  📹 Processing segment 46 (47/57) - Duration: 3.84s
    Debug - Payload: project_id=vibe3, segment_id=46, segment_index=46, images=Array, duration=3.8400000000000034, start_time=235.242, end_time=239.082
    💾 Segment 35 cached (0.105s saved)
  📹 Processing segment 47 (48/57) - Duration: 5.06s
    Debug - Payload: project_id=vibe3, segment_id=47, segment_index=47, images=Array, duration=5.060000000000002, start_time=239.082, end_time=244.142
    ⚡ Invoking Lambda for segment 38 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    💾 Segment 30 cached (0.114s saved)
    💾 Segment 39 cached (0.105s saved)
  📹 Processing segment 48 (49/57) - Duration: 5.26s
    Debug - Payload: project_id=vibe3, segment_id=48, segment_index=48, images=Array, duration=5.260009999999994, start_time=244.142, end_time=249.40201
    💾 Segment 34 cached (0.113s saved)
  📹 Processing segment 49 (50/57) - Duration: 4.22s
    Debug - Payload: project_id=vibe3, segment_id=49, segment_index=49, images=Array, duration=4.219999999999999, start_time=249.40201, end_time=253.62201
    ⚡ Invoking Lambda for segment 41 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
  📹 Processing segment 50 (51/57) - Duration: 4.16s
    Debug - Payload: project_id=vibe3, segment_id=50, segment_index=50, images=Array, duration=4.159999999999997, start_time=253.862, end_time=258.022
    💾 Segment 33 cached (0.118s saved)
  📹 Processing segment 51 (52/57) - Duration: 4.62s
    Debug - Payload: project_id=vibe3, segment_id=51, segment_index=51, images=Array, duration=4.6200000000000045, start_time=258.022, end_time=262.642
    ⚡ Invoking Lambda for segment 40 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 43 (1 images)...
    ⚡ Invoking Lambda for segment 42 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 44 (1 images)...
    ⚡ Invoking Lambda for segment 45 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 46 (1 images)...
    ⚡ Invoking Lambda for segment 47 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 49 (1 images)...
    ⚡ Invoking Lambda for segment 50 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 51 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 48 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 11 failed in 8.86s: Lambda function error: failed to generate enhanced video: signal: killed
  📹 Processing segment 52 (53/57) - Duration: 4.78s
    Debug - Payload: project_id=vibe3, segment_id=52, segment_index=52, images=Array, duration=4.78000000000003, start_time=262.642, end_time=267.422
    ⚡ Invoking Lambda for segment 52 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 36 failed in 11.19s: Lambda function error: failed to generate enhanced video: signal: killed
  📹 Processing segment 53 (54/57) - Duration: 3.92s
    Debug - Payload: project_id=vibe3, segment_id=53, segment_index=53, images=Array, duration=3.919999999999959, start_time=267.422, end_time=271.342
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 28 failed in 11.27s: Lambda function error: failed to generate enhanced video: signal: killed
  📹 Processing segment 54 (55/57) - Duration: 4.62s
    Debug - Payload: project_id=vibe3, segment_id=54, segment_index=54, images=Array, duration=4.6200000000000045, start_time=271.342, end_time=275.962
    ⚡ Invoking Lambda for segment 53 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    ⚡ Invoking Lambda for segment 54 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 0 failed in 13.18s: Lambda function error: failed to generate enhanced video: signal: killed
  📹 Processing segment 55 (56/57) - Duration: 4.2s
    Debug - Payload: project_id=vibe3, segment_id=55, segment_index=55, images=Array, duration=4.199999999999989, start_time=275.962, end_time=280.162
    ⚡ Invoking Lambda for segment 55 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 9 failed in 17.18s: Lambda function error: failed to generate enhanced video: signal: killed
  📹 Processing segment 56 (57/57) - Duration: 5.16s
    Debug - Payload: project_id=vibe3, segment_id=56, segment_index=56, images=Array, duration=5.160000000000025, start_time=280.162, end_time=285.322
    ⚡ Invoking Lambda for segment 56 (1 images)...
  📤 Invoking Lambda function: ken-burns-video-generator-go
    Debug - Payload keys: project_id, segment_id, segment_index, images, duration, start_time, end_time, options
    Debug - Payload values: String, String, Integer, Array, Float, Float, Float, Hash
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 8 failed in 18.72s: Lambda function error: failed to generate enhanced video: signal: killed
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 45 completed in 22.02s (Lambda: 21.92s)
    📁 Segment file: segments/vibe3/45_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 41 failed in 22.25s: Lambda function error: failed to generate enhanced video: signal: killed
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 50 completed in 22.33s (Lambda: 22.24s)
    📁 Segment file: segments/vibe3/50_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 46 completed in 25.6s (Lambda: 25.5s)
    📁 Segment file: segments/vibe3/46_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 15 completed in 26.71s (Lambda: 26.37s)
    📁 Segment file: segments/vibe3/15_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 51 completed in 28.88s (Lambda: 28.78s)
    📁 Segment file: segments/vibe3/51_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 49 completed in 29.69s (Lambda: 29.6s)
    📁 Segment file: segments/vibe3/49_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 44 completed in 32.14s (Lambda: 32.04s)
    📁 Segment file: segments/vibe3/44_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 40 completed in 33.59s (Lambda: 33.48s)
    📁 Segment file: segments/vibe3/40_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 54 failed in 24.53s: Lambda function error: failed to generate enhanced video: signal: killed
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 47 completed in 37.16s (Lambda: 37.06s)
    📁 Segment file: segments/vibe3/47_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 53 completed in 26.48s (Lambda: 26.38s)
    📁 Segment file: segments/vibe3/53_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 55 completed in 25.4s (Lambda: 25.31s)
    📁 Segment file: segments/vibe3/55_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 48 completed in 38.26s (Lambda: 38.15s)
    📁 Segment file: segments/vibe3/48_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 43 completed in 38.93s (Lambda: 38.82s)
    📁 Segment file: segments/vibe3/43_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 31 completed in 39.84s (Lambda: 39.74s)
    📁 Segment file: segments/vibe3/31_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 56 failed in 23.06s: Lambda function error: failed to generate enhanced video: signal: killed
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 52 completed in 32.17s (Lambda: 31.87s)
    📁 Segment file: segments/vibe3/52_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 38 completed in 43.72s (Lambda: 43.62s)
    📁 Segment file: segments/vibe3/38_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: statusCode, body
    ✅ Segment 29 completed in 45.26s (Lambda: 45.16s)
    📁 Segment file: segments/vibe3/29_segment.mp4
    Debug - Response status: 200
    Debug - Response body keys: errorMessage, errorType
    Debug - Lambda error: failed to generate enhanced video: signal: killed
    Debug - Error type: errorString
    Debug - Stack trace: 
    ❌ Segment 13 failed in 132.02s: Lambda function error: failed to generate enhanced video: signal: killed
    ❌ Lambda invocation error: Net::ReadTimeout with #<TCPSocket:(closed)>
    ❌ Lambda invocation error: Net::ReadTimeout with #<TCPSocket:(closed)>
    ❌ Error class: Seahorse::Client::NetworkingError
    ❌ Segment 14 failed in 243.69s: Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
    ❌ Error class: Seahorse::Client::NetworkingError
    ❌ Segment 5 failed in 243.7s: Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
    ❌ Lambda invocation error: Net::ReadTimeout with #<TCPSocket:(closed)>
    ❌ Error class: Seahorse::Client::NetworkingError
    ❌ Segment 42 failed in 243.33s: Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
  📊 PERFORMANCE SUMMARY:
    ⏱️  Total time: 243.81s
    ✅ Successful: 44/57
    💾 Cached: 27/57 (47.4%)
    📈 Avg processing time: 27.52s
    📈 Max processing time: 243.7s
    ⚡ Avg Lambda time: 32.12s
    ⚡ Max Lambda time: 45.16s
❌ 13 segments failed to process
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda invocation failed: Net::ReadTimeout with #<TCPSocket:(closed)>
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
  ❌ Segment : Lambda function error: failed to generate enhanced video: signal: killed
⏱️  Step 1 completed at: 18:03:03
⏱️  Step 1 runtime: 249.53 seconds

============================================================
❌ VIDEO GENERATION FAILED
============================================================
Error: Step 5 failed - Video generation: Lambda video generation failed: Some segments failed to process

🔧 Troubleshooting tips:
  • Check your API keys are properly configured
  • Ensure AWS services are accessible
  • Verify the audio file is in a supported format
  • Check network connectivity
  • Try running with test_mode: true for debugging
============================================================
