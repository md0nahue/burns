
=== Pipeline started at: 2025-07-06T20:08:33-07:00 ===
🎬 Burns - Audio to Ken Burns Video Pipeline
============================================================
✅ Found audio file: sad.m4a
📊 File size: 17.95 MB

🚀 Initializing video generator...
🎬 Local Video Service initialized
  📁 Temp directory: /var/folders/h6/gt987qh93hs085p28xhy8z840000gn/T/d20250706-25128-71xiq4
  🎥 FFmpeg path: ffmpeg

⚙️  Generation options:
  📐 Resolution: 1080p
  🎬 FPS: 24
  🎭 Ken Burns Effect: true
  🔄 Smooth Transitions: true
  ⏱️  Image Duration: 3.0s
  🌊 Transition Duration: 1.0s
  🔍 Zoom Factor: 1.2x
  📹 Pan Speed: 0.5
  💾 Image Caching: true
  💾 Transcription Caching: true
  💾 Analysis Caching: true

============================================================
🎬 STARTING KEN BURNS VIDEO GENERATION
============================================================

📝 Step 1: Processing audio and transcription...
🎵 Transcribing audio content...
🎬 Starting Ken Burns video generation
  📁 Audio file: sad.m4a
  🆔 Project ID: sad
  ⚙️  Options: {:resolution=>"1080p", :fps=>24, :test_mode=>false, :ken_burns_effect=>true, :smooth_transitions=>true, :image_duration=>3.0, :transition_duration=>1.0, :zoom_factor=>1.2, :pan_speed=>0.5, :cache_images=>true, :cache_transcription=>true, :cache_analysis=>true}

📝 Step 1: Processing audio and transcription...
  💾 Using cached transcription from S3

🎨 Step 2: Analyzing content and generating image queries...
  💾 Using cached image analysis from S3

🖼️  Step 3: Generating images for segments...
  💾 Using cached image generation from S3

📋 Step 4: Creating project manifest...
  💾 Using cached manifest from S3
📥 Getting project manifest: sad
✅ Project manifest retrieved: s3://burns-videos/projects/sad/manifest.json

🎥 Step 5: Generating final Ken Burns video...
  🎥 Generating final video using AWS Lambda for parallel processing...
📥 Getting project manifest: sad
✅ Project manifest retrieved: s3://burns-videos/projects/sad/manifest.json

============================================================
❌ VIDEO GENERATION FAILED
============================================================
Error: Video generation failed: Video generation error: undefined method `length' for nil:NilClass

🔧 Troubleshooting tips:
  • Check your API keys are properly configured
  • Ensure AWS services are accessible
  • Verify the audio file is in a supported format
  • Check network connectivity
  • Try running with test_mode: true for debugging
============================================================
